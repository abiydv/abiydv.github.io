<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS Elastic Kubernetes Service (EKS) | @abiydv</title>
<meta name=keywords content><meta name=description content="Workshop - https://www.eksworkshop.com/docs/introduction/
Pricing Static cost of a cluster is $0.1 per hour, so ~$70 per month.
In extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.
Update kubeconfig to access EKS aws eks update-kubeconfig --name my-cluster --region us-east-1 If cluster admin role is different from current role used to aut
aws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1 More here - https://docs."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/eks/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/eks/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS Elastic Kubernetes Service (EKS)"><meta property="og:description" content="Workshop - https://www.eksworkshop.com/docs/introduction/
Pricing Static cost of a cluster is $0.1 per hour, so ~$70 per month.
In extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.
Update kubeconfig to access EKS aws eks update-kubeconfig --name my-cluster --region us-east-1 If cluster admin role is different from current role used to aut
aws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1 More here - https://docs."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/eks/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-15T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS Elastic Kubernetes Service (EKS)"><meta name=twitter:description content="Workshop - https://www.eksworkshop.com/docs/introduction/
Pricing Static cost of a cluster is $0.1 per hour, so ~$70 per month.
In extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.
Update kubeconfig to access EKS aws eks update-kubeconfig --name my-cluster --region us-east-1 If cluster admin role is different from current role used to aut
aws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1 More here - https://docs."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS Elastic Kubernetes Service (EKS)","item":"https://abiydv.github.io/notes/aws/eks/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Elastic Kubernetes Service (EKS)","name":"AWS Elastic Kubernetes Service (EKS)","description":"Workshop - https://www.eksworkshop.com/docs/introduction/\nPricing Static cost of a cluster is $0.1 per hour, so ~$70 per month.\nIn extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.\nUpdate kubeconfig to access EKS aws eks update-kubeconfig --name my-cluster --region us-east-1 If cluster admin role is different from current role used to aut\naws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1 More here - https://docs.","keywords":[],"articleBody":"Workshop - https://www.eksworkshop.com/docs/introduction/\nPricing Static cost of a cluster is $0.1 per hour, so ~$70 per month.\nIn extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.\nUpdate kubeconfig to access EKS aws eks update-kubeconfig --name my-cluster --region us-east-1 If cluster admin role is different from current role used to aut\naws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1 More here - https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html\nWorkload AWS access Provide access to AWS workloads like S3 buckets, SNS topics etc via short lived temporary credentials.\nIRSA (IAM roles for service accounts) Pods can use service accounts which was backed by IAM roles and their permissions. Needs an annotation on k8s service account which refers to the IAM role arn. Principal in the role’s trust policy is the EKS cluster’s oidc provider.\nYou can add conditions to lock down which service accounts are able to use this role.\nannotation: eks.amazonaws.com/role-arn: arn:aws:iam::111122223333:role/my-role Example trust policy\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Effect\": \"Allow\", \"Principal\": { \"Federated\": \"arn:aws:iam::111122223333:oidc-provider/oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE\" }, \"Action\": \"sts:AssumeRoleWithWebIdentity\", \"Condition\": { \"StringEquals\": { \"oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub\": \"system:serviceaccount:default:my-service-account\", \"oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:aud\": \"sts.amazonaws.com\" } } } ] } More here https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html\nPod Identities Pods can assume an IAM role directly via k8s service account, without the need of an annotation on the service account. It need a pod identity association at cluster level (needs namespace, service account name). An agent runs on each node which makes this possible. The role’s trust policy is different than when using IRSA. The principal here is service: pods.eks.amazonaws.com\n{ \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"AllowEksAuthToAssumeRoleForPodIdentity\", \"Effect\": \"Allow\", \"Principal\": { \"Service\": \"pods.eks.amazonaws.com\" }, \"Action\": [ \"sts:AssumeRole\", \"sts:TagSession\" ] } ] } Following cdk code snippet (typescript) creates such a role, and adds a pod identity association.\nconst podIdentityServicePrincipal = new iam.SessionTagsPrincipal(new iam.ServicePrincipal(\"pods.eks.amazonaws.com\")) const workloadPodIdentityRole = new iam.Role(this, \"WorkloadPodIdentityRole\", { assumedBy: podIdentityServicePrincipal, }); workloadPolicy.attachToRole(WorkloadPodIdentityRole); new eks.CfnPodIdentityAssociation(this, \"WorkloadPodIdentityRoleAssociation\", { clusterName: cluster.clusterName, roleArn: workloadPodIdentityRole.roleArn, namespace: \"workload\", serviceAccount: \"workload-podidentity\", }); More here https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-eks-podidentityassociation.html\nNetworking https://aws.github.io/aws-eks-best-practices/networking/\nhttps://github.com/aws/amazon-vpc-cni-k8s\nAdvanced Networking https://aws.amazon.com/blogs/containers/eks-vpc-routable-ip-address-conservation/\ncan use both Fargate and EC2 clusters to launch nodes. STS endpoint for the deployment region must be enabled. worker nodes must have a private DNS entry or a node not found error will occur. node IAM role must be present in the aws-auth-cm.yaml file when using self-managed Amazon Linux nodes. Ref: https://docs.aws.amazon.com/eks/latest/userguide/troubleshooting.html, https://docs.aws.amazon.com/eks/latest/userguide/eks-connector.html\nAdd-ons Fetch available config options via aws cli\n$ aws eks describe-addon-versions --addon-name vpc-cni # provides available versions $ aws eks describe-addon-configuration --addon-name vpc-cni --addon-version v1.12.0-eksbuild.1 # provides config options under configurationSchema { \"addonName\": \"vpc-cni\", \"addonVersion\": \"v1.12.0-eksbuild.1\", \"configurationSchema\": \"{\\\"$ref\\\":\\\"#/definitions/VpcCni\\\",\\\"$schema\\\":\\\"http://json-schema.org/draft-06/schema#\\\",\\\"definitions\\\":{\\\"Cri\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"hostPath\\\":{\\\"$ref\\\":\\\"#/definitions/HostPath\\\"}},\\\"title\\\":\\\"Cri\\\",\\\"type\\\":\\\"object\\\"},\\\"Env\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"ADDITIONAL_ENI_TAGS\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_CNI_NODE_PORT_SUPPORT\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_ENI_MTU\\\":{\\\"format\\\":\\\"integer\\\",\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_CONFIGURE_RPFILTER\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_CUSTOM_NETWORK_CFG\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_EXTERNALSNAT\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_LOGLEVEL\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_LOG_FILE\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_RANDOMIZESNAT\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_CNI_VETHPREFIX\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_PLUGIN_LOG_FILE\\\":{\\\"type\\\":\\\"string\\\"},\\\"AWS_VPC_K8S_PLUGIN_LOG_LEVEL\\\":{\\\"type\\\":\\\"string\\\"},\\\"DISABLE_INTROSPECTION\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"DISABLE_METRICS\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"DISABLE_NETWORK_RESOURCE_PROVISIONING\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"ENABLE_POD_ENI\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"ENABLE_PREFIX_DELEGATION\\\":{\\\"format\\\":\\\"boolean\\\",\\\"type\\\":\\\"string\\\"},\\\"WARM_ENI_TARGET\\\":{\\\"format\\\":\\\"integer\\\",\\\"type\\\":\\\"string\\\"},\\\"WARM_PREFIX_TARGET\\\":{\\\"format\\\":\\\"integer\\\",\\\"type\\\":\\\"string\\\"}},\\\"title\\\":\\\"Env\\\",\\\"type\\\":\\\"object\\\"},\\\"HostPath\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"path\\\":{\\\"type\\\":\\\"string\\\"}},\\\"title\\\":\\\"HostPath\\\",\\\"type\\\":\\\"object\\\"},\\\"Limits\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"cpu\\\":{\\\"type\\\":\\\"string\\\"},\\\"memory\\\":{\\\"type\\\":\\\"string\\\"}},\\\"title\\\":\\\"Limits\\\",\\\"type\\\":\\\"object\\\"},\\\"Resources\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"limits\\\":{\\\"$ref\\\":\\\"#/definitions/Limits\\\"},\\\"requests\\\":{\\\"$ref\\\":\\\"#/definitions/Limits\\\"}},\\\"title\\\":\\\"Resources\\\",\\\"type\\\":\\\"object\\\"},\\\"VpcCni\\\":{\\\"additionalProperties\\\":false,\\\"properties\\\":{\\\"cri\\\":{\\\"$ref\\\":\\\"#/definitions/Cri\\\"},\\\"env\\\":{\\\"$ref\\\":\\\"#/definitions/Env\\\"},\\\"resources\\\":{\\\"$ref\\\":\\\"#/definitions/Resources\\\"}},\\\"title\\\":\\\"VpcCni\\\",\\\"type\\\":\\\"object\\\"}}}\" } Find all available versions, along with supported k8s versions\n$ aws eks describe-addon-versions --addon-name aws-efs-csi-driver | jq -cr '.addons[0].addonVersions[]| [.addonVersion,.compatibilities[].clusterVersion] | @csv' \"v2.0.7-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.6-eksbuild.2\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.6-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.5-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.4-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.3-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.2-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.1-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v2.0.0-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.7-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.6-eksbuild.2\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.6-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.5-eksbuild.2\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.5-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.4-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.3-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.2-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.1-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.7.0-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.5.9-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\" \"v1.5.8-eksbuild.1\",\"1.30\",\"1.29\",\"1.28\",\"1.27\",\"1.26\",\"1.25\",\"1.24\",\"1.23\",\"1.22\" Refer\nKubecost Mix of enterprise and opensource features at no additional cost.\nComparison here.\n","wordCount":"480","inLanguage":"en","datePublished":"2024-02-15T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/eks/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS Elastic Kubernetes Service (EKS)<sup>&nbsp;<span class="entry-stage sandbox">&nbsp;sandbox&nbsp;</span></sup></h1><div class=post-meta><s>15.2.24</s>&nbsp;4.4.25 / Notes / 3 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#pricing aria-label=Pricing>Pricing</a></li><li><a href=#update-kubeconfig-to-access-eks aria-label="Update kubeconfig to access EKS">Update <code>kubeconfig</code> to access EKS</a></li><li><a href=#workload-aws-access aria-label="Workload AWS access">Workload AWS access</a><ul><li><a href=#irsa-iam-roles-for-service-accounts aria-label="IRSA (IAM roles for service accounts)">IRSA (IAM roles for service accounts)</a></li><li><a href=#pod-identities aria-label="Pod Identities">Pod Identities</a></li></ul></li><li><a href=#networking aria-label=Networking>Networking</a></li><li><a href=#advanced-networking aria-label="Advanced Networking">Advanced Networking</a></li><li><a href=#add-ons aria-label=Add-ons>Add-ons</a><ul><li><a href=#kubecost aria-label=Kubecost>Kubecost</a></li></ul></li></ul></div></details></div></div><div class=post-content><p>Workshop - <a href=https://www.eksworkshop.com/docs/introduction/>https://www.eksworkshop.com/docs/introduction/</a></p><h1 id=pricing>Pricing<a hidden class=anchor aria-hidden=true href=#pricing>#</a></h1><p>Static cost of a cluster is $0.1 per hour, so ~$70 per month.</p><p>In extended support (old k8s versions), each cluster costs $0.6 per hours (6x), so ~$420 per month.</p><h1 id=update-kubeconfig-to-access-eks>Update <code>kubeconfig</code> to access EKS<a hidden class=anchor aria-hidden=true href=#update-kubeconfig-to-access-eks>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>aws eks update-kubeconfig --name my-cluster --region us-east-1
</span></span></code></pre></div><p>If cluster admin role is different from current role used to aut</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>aws eks update-kubeconfig --name my-cluster --role-arn arn:aws:iam::123456789000:role/eksrole --region us-east-1  
</span></span></code></pre></div><p>More here - <a href=https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html>https://docs.aws.amazon.com/eks/latest/userguide/create-kubeconfig.html</a></p><h1 id=workload-aws-access>Workload AWS access<a hidden class=anchor aria-hidden=true href=#workload-aws-access>#</a></h1><p>Provide access to AWS workloads like S3 buckets, SNS topics etc via short lived temporary credentials.</p><h2 id=irsa-iam-roles-for-service-accounts>IRSA (IAM roles for service accounts)<a hidden class=anchor aria-hidden=true href=#irsa-iam-roles-for-service-accounts>#</a></h2><p>Pods can use service accounts which was backed by IAM roles and their permissions. Needs an annotation on k8s service account which refers to the IAM role arn. Principal in the role&rsquo;s trust policy is the EKS cluster&rsquo;s oidc provider.</p><p>You can add conditions to lock down which service accounts are able to use this role.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>annotation: eks.amazonaws.com/role-arn: arn:aws:iam::111122223333:role/my-role
</span></span></code></pre></div><p>Example trust policy</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;Version&#34;</span>: <span style=color:#e6db74>&#34;2012-10-17&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;Statement&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Allow&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Principal&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;Federated&#34;</span>: <span style=color:#e6db74>&#34;arn:aws:iam::111122223333:oidc-provider/oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;sts:AssumeRoleWithWebIdentity&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Condition&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;StringEquals&#34;</span>: {
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:sub&#34;</span>: <span style=color:#e6db74>&#34;system:serviceaccount:default:my-service-account&#34;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&#34;oidc.eks.region-code.amazonaws.com/id/EXAMPLED539D4633E53DE1B71EXAMPLE:aud&#34;</span>: <span style=color:#e6db74>&#34;sts.amazonaws.com&#34;</span>
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>More here <a href=https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html>https://docs.aws.amazon.com/eks/latest/userguide/associate-service-account-role.html</a></p><h2 id=pod-identities>Pod Identities<a hidden class=anchor aria-hidden=true href=#pod-identities>#</a></h2><p>Pods can assume an IAM role directly via k8s service account, without the need of an annotation on the service account. It need a pod identity association at cluster level (needs namespace, service account name). An agent runs on each node which makes this possible. The role&rsquo;s trust policy is different than when using IRSA. The principal here is <code>service: pods.eks.amazonaws.com</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;Version&#34;</span>: <span style=color:#e6db74>&#34;2012-10-17&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;Statement&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Sid&#34;</span>: <span style=color:#e6db74>&#34;AllowEksAuthToAssumeRoleForPodIdentity&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Allow&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Principal&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;Service&#34;</span>: <span style=color:#e6db74>&#34;pods.eks.amazonaws.com&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;Action&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;sts:AssumeRole&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;sts:TagSession&#34;</span>
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Following cdk code snippet (typescript) creates such a role, and adds a pod identity association.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>podIdentityServicePrincipal</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>iam</span>.<span style=color:#a6e22e>SessionTagsPrincipal</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>iam</span>.<span style=color:#a6e22e>ServicePrincipal</span>(<span style=color:#e6db74>&#34;pods.eks.amazonaws.com&#34;</span>))
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>workloadPodIdentityRole</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>iam</span>.<span style=color:#a6e22e>Role</span>(<span style=color:#66d9ef>this</span>, <span style=color:#e6db74>&#34;WorkloadPodIdentityRole&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>assumedBy</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>podIdentityServicePrincipal</span>,
</span></span><span style=display:flex><span>    });
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>workloadPolicy</span>.<span style=color:#a6e22e>attachToRole</span>(<span style=color:#a6e22e>WorkloadPodIdentityRole</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>eks</span>.<span style=color:#a6e22e>CfnPodIdentityAssociation</span>(<span style=color:#66d9ef>this</span>, <span style=color:#e6db74>&#34;WorkloadPodIdentityRoleAssociation&#34;</span>, {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>clusterName</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>cluster</span>.<span style=color:#a6e22e>clusterName</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>roleArn</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>workloadPodIdentityRole</span>.<span style=color:#a6e22e>roleArn</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>namespace</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;workload&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>serviceAccount</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;workload-podidentity&#34;</span>,
</span></span><span style=display:flex><span>    });
</span></span></code></pre></div><p>More here <a href=https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-eks-podidentityassociation.html>https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-eks-podidentityassociation.html</a></p><h1 id=networking>Networking<a hidden class=anchor aria-hidden=true href=#networking>#</a></h1><p><a href=https://aws.github.io/aws-eks-best-practices/networking/>https://aws.github.io/aws-eks-best-practices/networking/</a></p><p><a href=https://github.com/aws/amazon-vpc-cni-k8s>https://github.com/aws/amazon-vpc-cni-k8s</a></p><h1 id=advanced-networking>Advanced Networking<a hidden class=anchor aria-hidden=true href=#advanced-networking>#</a></h1><p><a href=https://aws.amazon.com/blogs/containers/eks-vpc-routable-ip-address-conservation/>https://aws.amazon.com/blogs/containers/eks-vpc-routable-ip-address-conservation/</a></p><p><img loading=lazy src=https://d2908q01vomqb2.cloudfront.net/fe2ef495a1152561572949784c16bf23abb28057/2019/12/18/717-1.png alt=eks-vpc-secondary-cidr></p><ul><li>can use both Fargate and EC2 clusters to launch nodes.</li><li>STS endpoint for the deployment region must be enabled.</li><li>worker nodes must have a private DNS entry or a node not found error will occur.</li><li>node IAM role must be present in the aws-auth-cm.yaml file when using self-managed Amazon Linux nodes.</li></ul><p>Ref: <a href=https://docs.aws.amazon.com/eks/latest/userguide/troubleshooting.html>https://docs.aws.amazon.com/eks/latest/userguide/troubleshooting.html</a>, <a href=https://docs.aws.amazon.com/eks/latest/userguide/eks-connector.html>https://docs.aws.amazon.com/eks/latest/userguide/eks-connector.html</a></p><h1 id=add-ons>Add-ons<a hidden class=anchor aria-hidden=true href=#add-ons>#</a></h1><p>Fetch available config options via aws cli</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ aws eks describe-addon-versions --addon-name vpc-cni <span style=color:#75715e># provides available versions</span>
</span></span><span style=display:flex><span>$  aws eks describe-addon-configuration --addon-name vpc-cni --addon-version v1.12.0-eksbuild.1 <span style=color:#75715e># provides config options under configurationSchema</span>
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;addonName&#34;</span>: <span style=color:#e6db74>&#34;vpc-cni&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;addonVersion&#34;</span>: <span style=color:#e6db74>&#34;v1.12.0-eksbuild.1&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;configurationSchema&#34;</span>: <span style=color:#e6db74>&#34;{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/VpcCni\&#34;,\&#34;</span>$schema<span style=color:#e6db74>\&#34;:\&#34;http://json-schema.org/draft-06/schema#\&#34;,\&#34;definitions\&#34;:{\&#34;Cri\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;hostPath\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/HostPath\&#34;}},\&#34;title\&#34;:\&#34;Cri\&#34;,\&#34;type\&#34;:\&#34;object\&#34;},\&#34;Env\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;ADDITIONAL_ENI_TAGS\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_CNI_NODE_PORT_SUPPORT\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_ENI_MTU\&#34;:{\&#34;format\&#34;:\&#34;integer\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_CONFIGURE_RPFILTER\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_CUSTOM_NETWORK_CFG\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_EXTERNALSNAT\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_LOGLEVEL\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_LOG_FILE\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_RANDOMIZESNAT\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_CNI_VETHPREFIX\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_PLUGIN_LOG_FILE\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;AWS_VPC_K8S_PLUGIN_LOG_LEVEL\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;DISABLE_INTROSPECTION\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;DISABLE_METRICS\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;DISABLE_NETWORK_RESOURCE_PROVISIONING\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;ENABLE_POD_ENI\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;ENABLE_PREFIX_DELEGATION\&#34;:{\&#34;format\&#34;:\&#34;boolean\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;WARM_ENI_TARGET\&#34;:{\&#34;format\&#34;:\&#34;integer\&#34;,\&#34;type\&#34;:\&#34;string\&#34;},\&#34;WARM_PREFIX_TARGET\&#34;:{\&#34;format\&#34;:\&#34;integer\&#34;,\&#34;type\&#34;:\&#34;string\&#34;}},\&#34;title\&#34;:\&#34;Env\&#34;,\&#34;type\&#34;:\&#34;object\&#34;},\&#34;HostPath\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;path\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;}},\&#34;title\&#34;:\&#34;HostPath\&#34;,\&#34;type\&#34;:\&#34;object\&#34;},\&#34;Limits\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;cpu\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;},\&#34;memory\&#34;:{\&#34;type\&#34;:\&#34;string\&#34;}},\&#34;title\&#34;:\&#34;Limits\&#34;,\&#34;type\&#34;:\&#34;object\&#34;},\&#34;Resources\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;limits\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/Limits\&#34;},\&#34;requests\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/Limits\&#34;}},\&#34;title\&#34;:\&#34;Resources\&#34;,\&#34;type\&#34;:\&#34;object\&#34;},\&#34;VpcCni\&#34;:{\&#34;additionalProperties\&#34;:false,\&#34;properties\&#34;:{\&#34;cri\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/Cri\&#34;},\&#34;env\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/Env\&#34;},\&#34;resources\&#34;:{\&#34;</span>$ref<span style=color:#e6db74>\&#34;:\&#34;#/definitions/Resources\&#34;}},\&#34;title\&#34;:\&#34;VpcCni\&#34;,\&#34;type\&#34;:\&#34;object\&#34;}}}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Find all available versions, along with supported k8s versions</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ aws eks describe-addon-versions --addon-name aws-efs-csi-driver | jq -cr <span style=color:#e6db74>&#39;.addons[0].addonVersions[]| [.addonVersion,.compatibilities[].clusterVersion] | @csv&#39;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.7-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.6-eksbuild.2&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.6-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.5-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.4-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.3-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.2-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.1-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v2.0.0-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.7-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.6-eksbuild.2&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.6-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.5-eksbuild.2&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.5-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.4-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.3-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.2-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.1-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.7.0-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.5.9-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;v1.5.8-eksbuild.1&#34;</span>,<span style=color:#e6db74>&#34;1.30&#34;</span>,<span style=color:#e6db74>&#34;1.29&#34;</span>,<span style=color:#e6db74>&#34;1.28&#34;</span>,<span style=color:#e6db74>&#34;1.27&#34;</span>,<span style=color:#e6db74>&#34;1.26&#34;</span>,<span style=color:#e6db74>&#34;1.25&#34;</span>,<span style=color:#e6db74>&#34;1.24&#34;</span>,<span style=color:#e6db74>&#34;1.23&#34;</span>,<span style=color:#e6db74>&#34;1.22&#34;</span>
</span></span></code></pre></div><p><a href=https://aws.amazon.com/blogs/containers/amazon-eks-add-ons-advanced-configuration/>Refer</a></p><h2 id=kubecost>Kubecost<a hidden class=anchor aria-hidden=true href=#kubecost>#</a></h2><p>Mix of enterprise and opensource features at no additional cost.</p><p>Comparison <a href=https://docs.aws.amazon.com/eks/latest/userguide/cost-monitoring-kubecost-bundles.html>here</a>.</p></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-sandbox/>stage/sandbox</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/k8s/>k8s</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/aws-oss/>aws-oss</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>