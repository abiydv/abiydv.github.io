<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS DynamoDB | @abiydv</title>
<meta name=keywords content><meta name=description content="Internals Depends on single leader replication, do not confuse with Amazon Dynamo which uses leaderless replication and is primarily used in S3.
Scope standard tables - regional global tables - global (cross-region replication) Table classes Standard Standard-IA infrequently accessed data. Similar to S3 storage classes? consider standard-IA if the storage cost > 50% throughput cost (read/write units) Capacity Modes on-demand provisioned throughput Cache DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/dynamodb/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/dynamodb/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS DynamoDB"><meta property="og:description" content="Internals Depends on single leader replication, do not confuse with Amazon Dynamo which uses leaderless replication and is primarily used in S3.
Scope standard tables - regional global tables - global (cross-region replication) Table classes Standard Standard-IA infrequently accessed data. Similar to S3 storage classes? consider standard-IA if the storage cost > 50% throughput cost (read/write units) Capacity Modes on-demand provisioned throughput Cache DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/dynamodb/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-15T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS DynamoDB"><meta name=twitter:description content="Internals Depends on single leader replication, do not confuse with Amazon Dynamo which uses leaderless replication and is primarily used in S3.
Scope standard tables - regional global tables - global (cross-region replication) Table classes Standard Standard-IA infrequently accessed data. Similar to S3 storage classes? consider standard-IA if the storage cost > 50% throughput cost (read/write units) Capacity Modes on-demand provisioned throughput Cache DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS DynamoDB","item":"https://abiydv.github.io/notes/aws/dynamodb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS DynamoDB","name":"AWS DynamoDB","description":"Internals Depends on single leader replication, do not confuse with Amazon Dynamo which uses leaderless replication and is primarily used in S3.\nScope standard tables - regional global tables - global (cross-region replication) Table classes Standard Standard-IA infrequently accessed data. Similar to S3 storage classes? consider standard-IA if the storage cost \u0026gt; 50% throughput cost (read/write units) Capacity Modes on-demand provisioned throughput Cache DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC.","keywords":[],"articleBody":"Internals Depends on single leader replication, do not confuse with Amazon Dynamo which uses leaderless replication and is primarily used in S3.\nScope standard tables - regional global tables - global (cross-region replication) Table classes Standard Standard-IA infrequently accessed data. Similar to S3 storage classes? consider standard-IA if the storage cost \u003e 50% throughput cost (read/write units) Capacity Modes on-demand provisioned throughput Cache DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC.\nproviding in-memory cache, and increases performance by 10x\nAutoscaling Use auto scaling policy for [[AWS AutoScaling]] to adjust the provisioned read/write throughput to meet demand. Target tracking algo based on specified target utilization or based on schedule. If a table uses Global secondary index, ensure to enable the same auto scaling properties on that as well.\nReservation Cost savings compared to on-demand prices if you commit to an hourly use rate. Good option to reduce cost if the traffic pattern is predictable, well-understood and builds up gradually.\nPerformance Read Size Read Request Unit strongly consistent \u003c= 4 KB 1 eventually consistent \u003c= 4 KB 1.5 transactional ACID \u003c= 4 KB 2 Write Size Write Request Unit ? \u003c= 1 KB 1 transactional ACID \u003c= 1 KB 2 Issue Performance issues when scaling are usually caused by selecting inefficient partition keys that do not load the partitions equally and therefore do not spread write or read load properly across the partitions. When this happens, it is called “hot keys” or “hot partitions.” Evaluate partition keys to understand if this is causing issues.\nFine grained access Provide access to principals on specific attributes or keys\nhttps://aws.amazon.com/blogs/aws/fine-grained-access-control-for-amazon-dynamodb/ - Using IAM policy\nKinesis Data Streams for DynamoDB Captures and stores information about data changes in a particular table. These records are held for upto 1 year.\nDuplicate records might appear in stream,\nDynamoDB streams Captures and stores information about data changes in a particular table. These records are held for 24 hours before being automatically removed.\nNO duplicate records appear in this stream.\nIt is very similar to Kinesis Data Streams, so you can use the KCL (Kinesis Client Library) to process streams. Using Streams Kinesis Adapter allows interacting with the low level streams api by using KCL.\ngraph LR a(My App) --\u003e k1(KCL) --\u003e k2(Kinesis Adapter) k3(Kinesis Adapter) --\u003e s1(AWS SDK) --\u003e s2(Streams API) --\u003e s(Streams) Streams can trigger synchronous lambda functions as new records are added to it. This lambda can be used to perform actions based on a record change in the table. Maybe save before/after to S3 to create an audit trail.\n","wordCount":"425","inLanguage":"en","datePublished":"2024-02-15T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/dynamodb/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS DynamoDB<sup>&nbsp;<span class="entry-stage sandbox">&nbsp;sandbox&nbsp;</span></sup></h1><div class=post-meta><s>15.2.24</s>&nbsp;4.4.25 / Notes / 2 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#internals aria-label=Internals>Internals</a></li><li><a href=#scope aria-label=Scope>Scope</a></li><li><a href=#table-classes aria-label="Table classes">Table classes</a></li><li><a href=#capacity-modes aria-label="Capacity Modes">Capacity Modes</a></li><li><a href=#cache aria-label=Cache>Cache</a></li><li><a href=#autoscaling aria-label=Autoscaling>Autoscaling</a></li><li><a href=#reservation aria-label=Reservation>Reservation</a></li><li><a href=#performance aria-label=Performance>Performance</a><ul><li><a href=#issue aria-label=Issue>Issue</a></li></ul></li><li><a href=#fine-grained-access aria-label="Fine grained access">Fine grained access</a></li><li><a href=#kinesis-data-streams-for-dynamodb aria-label="Kinesis Data Streams for DynamoDB">Kinesis Data Streams for DynamoDB</a></li><li><a href=#dynamodb-streams aria-label="DynamoDB streams">DynamoDB streams</a></li></ul></div></details></div></div><div class=post-content><h1 id=internals>Internals<a hidden class=anchor aria-hidden=true href=#internals>#</a></h1><p>Depends on single leader replication, do not confuse with <a href=https://www.allthingsdistributed.com/2007/10/amazons_dynamo.html>Amazon Dynamo</a> which uses <a href=/>leaderless replication</a> and is primarily used in <a href=/notes/aws/s3/#internals>S3</a>.</p><h1 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h1><ul><li>standard tables - regional</li><li>global tables - global (cross-region replication)</li></ul><h1 id=table-classes>Table classes<a hidden class=anchor aria-hidden=true href=#table-classes>#</a></h1><ul><li>Standard</li><li>Standard-IA<ul><li>infrequently accessed data. Similar to <a href=/notes/aws/s3/#storage-class>S3 storage classes</a>?</li><li>consider standard-IA if the storage cost > 50% throughput cost (read/write units)</li></ul></li></ul><h1 id=capacity-modes>Capacity Modes<a hidden class=anchor aria-hidden=true href=#capacity-modes>#</a></h1><ul><li>on-demand</li><li>provisioned throughput</li></ul><h1 id=cache>Cache<a hidden class=anchor aria-hidden=true href=#cache>#</a></h1><p>DAX, DAX cluster - Dynamodb accelerator provisioned in a VPC.<br>providing in-memory cache, and increases performance by 10x<br><img loading=lazy src=https://d1.awsstatic.com/product-marketing/DynamoDB/dax_high_level.e4af7cc27485497eff5699cdf22a9502496cba38.png alt=dax></p><h1 id=autoscaling>Autoscaling<a hidden class=anchor aria-hidden=true href=#autoscaling>#</a></h1><p>Use auto scaling policy for [[AWS AutoScaling]] to adjust the provisioned read/write throughput to meet demand. Target tracking algo based on specified target utilization or based on schedule. If a table uses Global secondary index, ensure to enable the same auto scaling properties on that as well.</p><p><img loading=lazy src=https://docs.aws.amazon.com/images/amazondynamodb/latest/developerguide/images/auto-scaling.png alt=dynamodb-auto-scaling></p><h1 id=reservation>Reservation<a hidden class=anchor aria-hidden=true href=#reservation>#</a></h1><p>Cost savings compared to on-demand prices if you commit to an hourly use rate. Good option to reduce cost if the traffic pattern is predictable, well-understood and builds up gradually.</p><h1 id=performance>Performance<a hidden class=anchor aria-hidden=true href=#performance>#</a></h1><table><thead><tr><th>Read</th><th>Size</th><th>Read Request Unit</th></tr></thead><tbody><tr><td>strongly consistent</td><td>&lt;= 4 KB</td><td>1</td></tr><tr><td>eventually consistent</td><td>&lt;= 4 KB</td><td>1.5</td></tr><tr><td>transactional ACID</td><td>&lt;= 4 KB</td><td>2</td></tr></tbody></table><table><thead><tr><th>Write</th><th>Size</th><th>Write Request Unit</th></tr></thead><tbody><tr><td>?</td><td>&lt;= 1 KB</td><td>1</td></tr><tr><td>transactional ACID</td><td>&lt;= 1 KB</td><td>2</td></tr></tbody></table><h2 id=issue>Issue<a hidden class=anchor aria-hidden=true href=#issue>#</a></h2><p>Performance issues when scaling are usually caused by selecting inefficient partition keys that do not load the partitions equally and therefore do not spread write or read load properly across the partitions. When this happens, it is called “hot keys” or “hot partitions.” Evaluate partition keys to understand if this is causing issues.</p><h1 id=fine-grained-access>Fine grained access<a hidden class=anchor aria-hidden=true href=#fine-grained-access>#</a></h1><p>Provide access to principals on specific attributes or keys</p><p><a href=https://aws.amazon.com/blogs/aws/fine-grained-access-control-for-amazon-dynamodb/>https://aws.amazon.com/blogs/aws/fine-grained-access-control-for-amazon-dynamodb/</a> - Using IAM policy</p><h1 id=kinesis-data-streams-for-dynamodb>Kinesis Data Streams for DynamoDB<a hidden class=anchor aria-hidden=true href=#kinesis-data-streams-for-dynamodb>#</a></h1><p>Captures and stores information about data changes in a particular table. These records are held for upto 1 year.</p><p>Duplicate records might appear in stream,</p><h1 id=dynamodb-streams>DynamoDB streams<a hidden class=anchor aria-hidden=true href=#dynamodb-streams>#</a></h1><p>Captures and stores information about data changes in a particular table. These records are held for 24 hours before being automatically removed.</p><p>NO duplicate records appear in this stream.</p><p>It is very similar to <a href=/notes/aws/kinesis-data-streams/>Kinesis Data Streams</a>, so you can use the KCL (Kinesis Client Library) to process streams. Using Streams Kinesis Adapter allows interacting with the low level streams api by using KCL.</p><pre class=mermaid>graph LR
a(My App) --> k1(KCL) --> k2(Kinesis Adapter) 
k3(Kinesis Adapter) --> s1(AWS SDK) --> s2(Streams API) --> s(Streams)
</pre><p>Streams can trigger <a href=./architectures.md#synchronous>synchronous</a> <a href=/notes/aws/lambda/>lambda</a> functions as new records are added to it. This lambda can be used to perform actions based on a record change in the table. Maybe save before/after to <a href=/notes/aws/s3/>S3</a> to create an audit trail.</p></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-sandbox/>stage/sandbox</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/database/>database</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/serverless/>serverless</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>