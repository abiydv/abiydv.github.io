<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS Direct Connect | @abiydv</title>
<meta name=keywords content><meta name=description content="While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.
If a customer doesn&rsquo;t want to connect to AWS over the internet, they can alternatively use Direct Connect. This ensures the traffic to/from AWS flows through the customer&rsquo;s network directely on to AWS backbone network without going over the internet.
Cost effective, secure, performant private network connectivity between on-prem private network and AWS."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/direct-connect/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/direct-connect/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS Direct Connect"><meta property="og:description" content="While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.
If a customer doesn&rsquo;t want to connect to AWS over the internet, they can alternatively use Direct Connect. This ensures the traffic to/from AWS flows through the customer&rsquo;s network directely on to AWS backbone network without going over the internet.
Cost effective, secure, performant private network connectivity between on-prem private network and AWS."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/direct-connect/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-14T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS Direct Connect"><meta name=twitter:description content="While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.
If a customer doesn&rsquo;t want to connect to AWS over the internet, they can alternatively use Direct Connect. This ensures the traffic to/from AWS flows through the customer&rsquo;s network directely on to AWS backbone network without going over the internet.
Cost effective, secure, performant private network connectivity between on-prem private network and AWS."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS Direct Connect","item":"https://abiydv.github.io/notes/aws/direct-connect/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Direct Connect","name":"AWS Direct Connect","description":"While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.\nIf a customer doesn\u0026rsquo;t want to connect to AWS over the internet, they can alternatively use Direct Connect. This ensures the traffic to/from AWS flows through the customer\u0026rsquo;s network directely on to AWS backbone network without going over the internet.\nCost effective, secure, performant private network connectivity between on-prem private network and AWS.","keywords":[],"articleBody":"While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.\nIf a customer doesn’t want to connect to AWS over the internet, they can alternatively use Direct Connect. This ensures the traffic to/from AWS flows through the customer’s network directely on to AWS backbone network without going over the internet.\nCost effective, secure, performant private network connectivity between on-prem private network and AWS.\nLocation These are the AWS provided physical locations customers connect their on-prem data centers to, to establish direct connectivity with AWS back bone network.\nAll such locations have a default region associated with them depending on their location. However, the Direct Connect connection established using a particular location can be used for any region (except some exceptions for China).\nSome locations support MACSec for some port speeds (mostly for 10 and 100 Gbps). Most widely available port speed is 10 Gbps which is offered at every location, unlike 1 Gbps and 100 Gbps which some locations don’t support.\nConnection Establish a connection to AWS Direct Connect location.\nDedicated A physical ethernet connection associated with a single customer, can be a 1 Gbps, 10 Gbps, or 100 Gbps Ethernet port.\nHosted A physical ethernet connection privisioned by an AWS partner for a customer. Only supports ONE [[#Virtual Interface (VIF)]]\nVirtual Interface (VIF) A virtual interface is the VLAN that transports Direct Connect traffic. It can be connected to either a Virtual Private Gateway (VGW) on a VPC, or Direct Connect Gateway (DXGW)\nIf connected to a VGW, it enables connectivity to a single VPC in a single region.\nIf connected to a DXGW, it enables connectivity to multiple VPCs, across regions.\nPrivate Virtual Interface (Private VIF) Access Amazon VPC resources using private IP addresses.\nPublic Virtual Interface (Public VIF) Access AWS public services using public IPs.\nTransit Virtual Interface (Transit VIF) Transports traffic from a Direct Connect Gateway (DXGW) to one or more Transit Gateway.\nOnly available for Dedicated or Hosted connection with speeds of 1 Gbps or more.\nDirect Connect Gateway (DXGW) Use DXGW to connect Direct Connect connection to one or many vpc over a Private Virtual Interface (Private VIF)\nYou can attach multiple Private VIF to a DXGW, this enables North-South connectivity (between on-prem and AWS) BUT does not enable East-West connectivity (between VPCs on AWS).\nThis is strictly for private connectivity. You cannot connect a Public Virtual Interface (Public VIF) to a DXGW.\nConnection Patterns [!info] Q The DXGW is a control plane-only device. In other words, no actual traffic goes over it, it is just a Route-Reflector, it only carries the routing table.\nSource - AWS Blog\nQuestions The DXGW is a control plane-only device. In other words, no actual traffic goes over it, it is just a Route-Reflector, it only carries the routing table?\nGiven the above, what physical medium does the traffic use? And how does it compare to the Transit Gateway?\nConnect DC location to VGW over Private VIF 1 virtual interface can connect to only 1 VPC (via virtual-private-gateway) 1 direct connect connection supports max 50 VIF 1 BGP peering session per VPC. Region specific to Direct Connect region.\nConnect DC location via DXGW to VGW over Private VIF Direct Connect Gateway (DXGW) is a global resource. It can connect to upto 10 VPCs (via VGW) over 1 VIF. It allows North-South (on-prem to AWS) connectivity but not East-West (between VPCs). 1 BGP peering session per DXGW per Direct Connect connection. Good fit if the size of the landing zone on AWS is small, less than 10 VPCs.\nConnect DC location via DXGW to TGW over Transit VIF Use Transit Virtual Interface to connect Direct Connect Gateway to Transit Gateway.\n1 DXGW can connect upto 3 TGW over 1 Transit VIF. Simplest, scalable setup to establish reliable connectivity with AWS without going through the Internet. TGW can only advertise 20 Prefix over the Transit IVF to on-prem router. Cost = Direct Connect pricing + TGW attachment + TGW data transfer charges\nConnect DC location via VPN to TGW over Public VIF Use to encrypt your Direct Connect traffic at Network layer.\nThe Public VIF advertises all AWS public IP to on-prem router including the public IP of VPN endpoints created when adding a VPN attachment to Transit Gateway.\nAdvisable to use some firewall routing at the on-prem router since AWS advertises all public IP ranges.\nConnect DC location via GRE tunnel to TGW over Transit VIF Use Transit Gateway Connect attachment type to connect on-prem SD-WAN virtual appliances directly to Transit Gateway without IPSec VPN using GRE tunnel. This enables high bandwidth performance compared to a VPN.\nWhich pattern to pick? Decide based on the requirements, and the advantages/disadvantages of each pattern.\nThe simplest (not cheapest) approach is to use the 3rd pattern. Connect DC location via DXGW to Transit Gateway over Transit VIF. This helps centralize all your connectivity needs to a single Transit Gateway.\nConsider the 1st pattern, connecting to a VPC directly using a private VIF for large amounts of data transfer. This will save Transit Gateway data processing charges applicable when using the 3rd pattern.\nConsider using the 4th pattern, Transit Gateway Connect + GRE tunnel to connect the on-prem SD-WAN appliances/infrastructure to AWS without VPN.\nResilience To maintain production grade resilience, it is recommended to use at-least 2 Direct Connect connections terminating at 2 appliances/devices in each of 2 different customer sites. This provides 4 connections in total with a high degree of resilience.\nFor development workloads, you can configure 2 connections terminating at 2 appliances/devices at a single customer site.\nBackup Connection It is also advisable to have a high performance backup connection to the Direct Connect connections.\nVirtual Private Gateway (site to site VPN) is a simple pattern to enable backup connectivity between customer sites and AWS. However, due to limited bandwidth of 1.25 Gbps/tunnel, and no support of ECMP, it is generally not favoured.\nTo maintain high performance over the backup connection, it is advisable to use Transit Gateway VPN which supports ECMP. Even thought the individual tunnels still operate at 1.25 Gbps speeds, due to ECMP, it is possible to achieve much higher speeds.\nInspect all traffic coming into AWS? https://aws.amazon.com/blogs/networking-and-content-delivery/announcing-amazon-virtual-private-gateway-ingress-routing-support-for-gateway-load-balancer/\nFurther Reading https://aws.amazon.com/blogs/networking-and-content-delivery/influencing-traffic-over-hybrid-networks-using-longest-prefix-match/\n","wordCount":"1043","inLanguage":"en","datePublished":"2024-02-14T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/direct-connect/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS Direct Connect<sup>&nbsp;<span class="entry-stage incubating">&nbsp;incubating&nbsp;</span></sup></h1><div class=post-meta><s>14.2.24</s>&nbsp;4.4.25 / Notes / 5 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#location aria-label=Location>Location</a></li><li><a href=#connection aria-label=Connection>Connection</a><ul><li><a href=#dedicated aria-label=Dedicated>Dedicated</a></li><li><a href=#hosted aria-label=Hosted>Hosted</a></li></ul></li><li><a href=#virtual-interface-vif aria-label="Virtual Interface (VIF)">Virtual Interface (VIF)</a><ul><li><a href=#private-virtual-interface-private-vif aria-label="Private Virtual Interface (Private VIF)">Private Virtual Interface (Private VIF)</a></li><li><a href=#public-virtual-interface-public-vif aria-label="Public Virtual Interface (Public VIF)">Public Virtual Interface (Public VIF)</a></li><li><a href=#transit-virtual-interface-transit-vif aria-label="Transit Virtual Interface (Transit VIF)">Transit Virtual Interface (Transit VIF)</a></li></ul></li><li><a href=#direct-connect-gateway-dxgw aria-label="Direct Connect Gateway (DXGW)">Direct Connect Gateway (DXGW)</a></li><li><a href=#connection-patterns aria-label="Connection Patterns">Connection Patterns</a><ul><li><a href=#questions aria-label=Questions>Questions</a></li><li><a href=#connect-dc-location-to-vgw-over-private-vif aria-label="Connect DC location to VGW over Private VIF">Connect DC location to VGW over Private VIF</a></li><li><a href=#connect-dc-location-via-dxgw-to-vgw-over-private-vif aria-label="Connect DC location via DXGW to VGW over Private VIF">Connect DC location via DXGW to VGW over Private VIF</a></li><li><a href=#connect-dc-location-via-dxgw-to-tgw-over-transit-vif aria-label="Connect DC location via DXGW to TGW over Transit VIF">Connect DC location via DXGW to TGW over Transit VIF</a></li><li><a href=#connect-dc-location-via-vpn-to-tgw-over-public-vif aria-label="Connect DC location via VPN to TGW over Public VIF">Connect DC location via VPN to TGW over Public VIF</a></li><li><a href=#connect-dc-location-via-gre-tunnel-to-tgw-over-transit-vif aria-label="Connect DC location via GRE tunnel to TGW over Transit VIF">Connect DC location via GRE tunnel to TGW over Transit VIF</a></li></ul></li><li><a href=#which-pattern-to-pick aria-label="Which pattern to pick?">Which pattern to pick?</a></li><li><a href=#resilience aria-label=Resilience>Resilience</a></li><li><a href=#backup-connection aria-label="Backup Connection">Backup Connection</a></li><li><a href=#inspect-all-traffic-coming-into-aws aria-label="Inspect all traffic coming into AWS?">Inspect all traffic coming into AWS?</a></li><li><a href=#further-reading aria-label="Further Reading">Further Reading</a></li></ul></div></details></div></div><div class=post-content><p>While VPN connections are OK, for some critical workloads, VPN over internet may not be stable or available enough.</p><p>If a customer doesn&rsquo;t want to connect to AWS over the internet, they can alternatively use <a href=https://docs.aws.amazon.com/directconnect/latest/UserGuide/Welcome.html>Direct Connect</a>. This ensures the traffic to/from AWS flows through the customer&rsquo;s network directely on to AWS backbone network without going over the internet.</p><p>Cost effective, secure, performant private network connectivity between on-prem private network and AWS.</p><h1 id=location>Location<a hidden class=anchor aria-hidden=true href=#location>#</a></h1><p>These are the AWS provided physical locations customers connect their on-prem data centers to, to establish direct connectivity with AWS back bone network.</p><p>All such locations have a default region associated with them depending on their location. However, the Direct Connect connection established using a particular location can be used for any region (except some exceptions for China).</p><p>Some locations support <a href=./network.md#macsec>MACSec</a> for some port speeds (mostly for 10 and 100 Gbps). Most widely available port speed is 10 Gbps which is offered at every location, unlike 1 Gbps and 100 Gbps which some locations don&rsquo;t support.</p><h1 id=connection>Connection<a hidden class=anchor aria-hidden=true href=#connection>#</a></h1><p>Establish a connection to AWS Direct Connect location.</p><h2 id=dedicated>Dedicated<a hidden class=anchor aria-hidden=true href=#dedicated>#</a></h2><p>A physical ethernet connection associated with a single customer, can be a 1 Gbps, 10 Gbps, or 100 Gbps Ethernet port.</p><h2 id=hosted>Hosted<a hidden class=anchor aria-hidden=true href=#hosted>#</a></h2><p>A physical ethernet connection privisioned by an AWS partner for a customer. Only supports ONE [[#Virtual Interface (VIF)]]</p><h1 id=virtual-interface-vif>Virtual Interface (VIF)<a hidden class=anchor aria-hidden=true href=#virtual-interface-vif>#</a></h1><p>A virtual interface is the <a href=./network.md#vlan>VLAN</a> that transports Direct Connect traffic. It can be connected to either a <a href=/notes/aws/virtual-private-gateway/>Virtual Private Gateway (VGW)</a> on a VPC, or <a href=/notes/aws/direct-connect/#direct-connect-gateway-dxgw>Direct Connect Gateway (DXGW)</a></p><p>If connected to a VGW, it enables connectivity to a single VPC in a single region.</p><p>If connected to a DXGW, it enables connectivity to multiple VPCs, across regions.</p><h2 id=private-virtual-interface-private-vif>Private Virtual Interface (Private VIF)<a hidden class=anchor aria-hidden=true href=#private-virtual-interface-private-vif>#</a></h2><p>Access Amazon VPC resources using private IP addresses.</p><h2 id=public-virtual-interface-public-vif>Public Virtual Interface (Public VIF)<a hidden class=anchor aria-hidden=true href=#public-virtual-interface-public-vif>#</a></h2><p>Access AWS public services using public IPs.</p><h2 id=transit-virtual-interface-transit-vif>Transit Virtual Interface (Transit VIF)<a hidden class=anchor aria-hidden=true href=#transit-virtual-interface-transit-vif>#</a></h2><p>Transports traffic from a Direct Connect Gateway (DXGW) to one or more <a href=/notes/aws/transit-gateway/>Transit Gateway</a>.</p><p>Only available for <a href=/notes/aws/direct-connect/#dedicated>Dedicated</a> or <a href=/notes/aws/direct-connect/#hosted>Hosted</a> <a href=/notes/aws/direct-connect/#connection>connection</a> with speeds of 1 Gbps or more.</p><h1 id=direct-connect-gateway-dxgw>Direct Connect Gateway (DXGW)<a hidden class=anchor aria-hidden=true href=#direct-connect-gateway-dxgw>#</a></h1><p>Use DXGW to connect Direct Connect <a href=/notes/aws/direct-connect/#connection>connection</a> to one or many <a href=/notes/aws/vpc/>vpc</a> over a <a href=/notes/aws/direct-connect/#private-virtual-interface-private-vif>Private Virtual Interface (Private VIF)</a></p><p>You can attach multiple <a href=/#private-virtual-interface-private-vif>Private VIF</a> to a DXGW, this enables North-South connectivity (between on-prem and AWS) BUT does not enable East-West connectivity (between VPCs on AWS).</p><p>This is strictly for private connectivity. You cannot connect a <a href=/notes/aws/direct-connect/#public-virtual-interface-public-vif>Public Virtual Interface (Public VIF)</a> to a DXGW.</p><h1 id=connection-patterns>Connection Patterns<a hidden class=anchor aria-hidden=true href=#connection-patterns>#</a></h1><p><img loading=lazy src=https://docs.aws.amazon.com/images/whitepapers/latest/building-scalable-secure-multi-vpc-network-infrastructure/images/connect-on-premises.png alt=direct-connect-types></p><blockquote><p>[!info] Q
The DXGW is a control plane-only device. In other words, no actual traffic goes over it, it is just a Route-Reflector, it only carries the routing table.</p></blockquote><p><em>Source - AWS Blog</em></p><h2 id=questions>Questions<a hidden class=anchor aria-hidden=true href=#questions>#</a></h2><ol><li><p>The DXGW is a control plane-only device. In other words, no actual traffic goes over it, it is just a Route-Reflector, it only carries the routing table?</p></li><li><p>Given the above, what physical medium does the traffic use? And how does it compare to the <a href=/notes/aws/transit-gateway/>Transit Gateway</a>?</p></li></ol><h2 id=connect-dc-location-to-vgw-over-private-vif>Connect DC location to VGW over Private VIF<a hidden class=anchor aria-hidden=true href=#connect-dc-location-to-vgw-over-private-vif>#</a></h2><p>1 virtual interface can connect to <em>only</em> 1 VPC (via <a href=/notes/aws/virtual-private-gateway/>virtual-private-gateway</a>)
1 direct connect connection supports max 50 VIF
1 <a href=./network.md#bgp>BGP</a> peering session per VPC.
Region specific to Direct Connect region.</p><h2 id=connect-dc-location-via-dxgw-to-vgw-over-private-vif>Connect DC location via DXGW to VGW over Private VIF<a hidden class=anchor aria-hidden=true href=#connect-dc-location-via-dxgw-to-vgw-over-private-vif>#</a></h2><p>Direct Connect Gateway (DXGW) is a global resource. It can connect to upto 10 VPCs (via VGW) over 1 VIF.
It allows North-South (on-prem to AWS) connectivity but not East-West (between VPCs).
1 <a href=./network.md#bgp>BGP</a> peering session per DXGW per Direct Connect connection.
Good fit if the size of the landing zone on AWS is small, less than 10 VPCs.</p><h2 id=connect-dc-location-via-dxgw-to-tgw-over-transit-vif>Connect DC location via DXGW to TGW over Transit VIF<a hidden class=anchor aria-hidden=true href=#connect-dc-location-via-dxgw-to-tgw-over-transit-vif>#</a></h2><p>Use <a href=/notes/aws/direct-connect/#transit-virtual-interface-transit-vif>Transit Virtual Interface</a> to connect Direct Connect Gateway to <a href=/notes/aws/transit-gateway/>Transit Gateway</a>.</p><p>1 DXGW can connect upto 3 TGW over 1 Transit VIF.
Simplest, scalable setup to establish reliable connectivity with AWS without going through the Internet.
TGW can only advertise 20 Prefix over the Transit IVF to on-prem router.
Cost = Direct Connect pricing + TGW attachment + TGW data transfer charges</p><h2 id=connect-dc-location-via-vpn-to-tgw-over-public-vif>Connect DC location via VPN to TGW over Public VIF<a hidden class=anchor aria-hidden=true href=#connect-dc-location-via-vpn-to-tgw-over-public-vif>#</a></h2><p>Use to encrypt your Direct Connect traffic at Network <a href=./network.md#layers-osi>layer</a>.</p><p>The Public VIF advertises all AWS public IP to on-prem router including the public IP of VPN endpoints created when adding a VPN attachment to <a href=/notes/aws/transit-gateway/>Transit Gateway</a>.</p><p>Advisable to use some firewall routing at the on-prem router since AWS advertises all public IP ranges.</p><h2 id=connect-dc-location-via-gre-tunnel-to-tgw-over-transit-vif>Connect DC location via GRE tunnel to TGW over Transit VIF<a hidden class=anchor aria-hidden=true href=#connect-dc-location-via-gre-tunnel-to-tgw-over-transit-vif>#</a></h2><p>Use <a href=/notes/aws/transit-gateway/#aws-transit-gateway-connect>Transit Gateway Connect</a> attachment type to connect on-prem SD-WAN virtual appliances directly to Transit Gateway without IPSec VPN using <a href=./network.md#gre>GRE</a> tunnel.
This enables high bandwidth performance compared to a VPN.</p><h1 id=which-pattern-to-pick>Which pattern to pick?<a hidden class=anchor aria-hidden=true href=#which-pattern-to-pick>#</a></h1><p>Decide based on the requirements, and the advantages/disadvantages of each pattern.</p><p>The simplest (not cheapest) approach is to use the 3rd pattern. Connect DC location via DXGW to Transit Gateway over Transit VIF. This helps centralize all your connectivity needs to a single Transit Gateway.</p><p>Consider the 1st pattern, connecting to a VPC directly using a private VIF for large amounts of data transfer. This will save <a href=/notes/aws/transit-gateway/>Transit Gateway</a> data processing charges applicable when using the 3rd pattern.</p><p>Consider using the 4th pattern, Transit Gateway Connect + GRE tunnel to connect the on-prem <a href=./network.md#sd-wan>SD-WAN</a> appliances/infrastructure to AWS without VPN.</p><h1 id=resilience>Resilience<a hidden class=anchor aria-hidden=true href=#resilience>#</a></h1><p>To maintain production grade resilience, it is recommended to use at-least 2 Direct Connect connections terminating at 2 appliances/devices in each of 2 different customer sites. This provides 4 connections in total with a high degree of resilience.</p><p>For development workloads, you can configure 2 connections terminating at 2 appliances/devices at a single customer site.</p><h1 id=backup-connection>Backup Connection<a hidden class=anchor aria-hidden=true href=#backup-connection>#</a></h1><p>It is also advisable to have a high performance backup connection to the Direct Connect connections.</p><p><a href=/notes/aws/vpc/#virtual-private-gateway-vgw>Virtual Private Gateway</a> (site to site VPN) is a simple pattern to enable backup connectivity between customer sites and AWS. However, due to limited bandwidth of 1.25 Gbps/tunnel, and no support of <a href=./network.md#ecmp>ECMP</a>, it is generally not favoured.</p><p>To maintain high performance over the backup connection, it is advisable to use <a href=/notes/aws/transit-gateway/#vpn>Transit Gateway VPN</a> which supports <a href=./network.md#ecmp>ECMP</a>. Even thought the individual tunnels still operate at 1.25 Gbps speeds, due to ECMP, it is possible to achieve much higher speeds.</p><h1 id=inspect-all-traffic-coming-into-aws>Inspect all traffic coming into AWS?<a hidden class=anchor aria-hidden=true href=#inspect-all-traffic-coming-into-aws>#</a></h1><p><a href=https://aws.amazon.com/blogs/networking-and-content-delivery/announcing-amazon-virtual-private-gateway-ingress-routing-support-for-gateway-load-balancer/>https://aws.amazon.com/blogs/networking-and-content-delivery/announcing-amazon-virtual-private-gateway-ingress-routing-support-for-gateway-load-balancer/</a></p><h1 id=further-reading>Further Reading<a hidden class=anchor aria-hidden=true href=#further-reading>#</a></h1><p><a href=https://aws.amazon.com/blogs/networking-and-content-delivery/influencing-traffic-over-hybrid-networks-using-longest-prefix-match/>https://aws.amazon.com/blogs/networking-and-content-delivery/influencing-traffic-over-hybrid-networks-using-longest-prefix-match/</a></p></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-incubating/>stage/incubating</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/network/>network</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/hybrid-cloud/>hybrid-cloud</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/migration/>migration</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>