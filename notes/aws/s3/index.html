<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS Simple Storage Service (S3) | @abiydv</title>
<meta name=keywords content><meta name=description content="Object storage offering 99.999999999% (11 nines) data durability.
Internals Based on Amazon Dynamo (not the same as DynamoDB) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.
This article by DR. Werner Vogels, is an interesting read on how S3 came to be!
Scope Regional, although AWS does call it global at places.
Can you create a bucket without specifying a region?
Consistency read-after-write consistency for PUT, and DELETE requests Strongly consistent for reads, always returns the most recent data."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/s3/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/s3/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS Simple Storage Service (S3)"><meta property="og:description" content="Object storage offering 99.999999999% (11 nines) data durability.
Internals Based on Amazon Dynamo (not the same as DynamoDB) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.
This article by DR. Werner Vogels, is an interesting read on how S3 came to be!
Scope Regional, although AWS does call it global at places.
Can you create a bucket without specifying a region?
Consistency read-after-write consistency for PUT, and DELETE requests Strongly consistent for reads, always returns the most recent data."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/s3/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-13T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS Simple Storage Service (S3)"><meta name=twitter:description content="Object storage offering 99.999999999% (11 nines) data durability.
Internals Based on Amazon Dynamo (not the same as DynamoDB) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.
This article by DR. Werner Vogels, is an interesting read on how S3 came to be!
Scope Regional, although AWS does call it global at places.
Can you create a bucket without specifying a region?
Consistency read-after-write consistency for PUT, and DELETE requests Strongly consistent for reads, always returns the most recent data."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS Simple Storage Service (S3)","item":"https://abiydv.github.io/notes/aws/s3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Simple Storage Service (S3)","name":"AWS Simple Storage Service (S3)","description":"Object storage offering 99.999999999% (11 nines) data durability.\nInternals Based on Amazon Dynamo (not the same as DynamoDB) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.\nThis article by DR. Werner Vogels, is an interesting read on how S3 came to be!\nScope Regional, although AWS does call it global at places.\nCan you create a bucket without specifying a region?\nConsistency read-after-write consistency for PUT, and DELETE requests Strongly consistent for reads, always returns the most recent data.","keywords":[],"articleBody":"Object storage offering 99.999999999% (11 nines) data durability.\nInternals Based on Amazon Dynamo (not the same as DynamoDB) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.\nThis article by DR. Werner Vogels, is an interesting read on how S3 came to be!\nScope Regional, although AWS does call it global at places.\nCan you create a bucket without specifying a region?\nConsistency read-after-write consistency for PUT, and DELETE requests Strongly consistent for reads, always returns the most recent data. Note, a read op initiated before a write op is finished can return either old or new data. No out of the box object locking for concurrent writes (manage in app code), so be mindful of write conflicts last-writer-wins for conflict resolution of concurrent writes More here\nStorage class Standard Intelligent tiering Express One-Zone (High Performance) Standard Infrequent Access One-Zone Infrequent Access Glacier Instant Retrieval Glacier Flexible Retrieval Glacier Deep Archive S3 on [outposts] More https://aws.amazon.com/s3/storage-classes/\nLifecycle rules Use to transition between storage classes or deleting/expiring objects etc. Be sure to not operate on too many small objects as the transition cost will be more than any cost gains due to storage class change.\nObject lock Use to retain particular objects for compliance reasons.\nEncryption AWS encrypts all objects uploaded to S3 using SSE-S3 by default. This can be changed in bucket settings.\nOther encryption options (SSE = server side encryption) -\nSSE-C (customer managed keys) SSE-KMS (kms keys - customer or aws managed) # DSSE-KMS (dual-layer SSE using KMS keys) # With SSE-KMS there can be cost implications (KMS charges) if too many encrypted files are uploaded/downloaded. Always use a bucket key with SSE-KMS to reduce KMS costs.\nBucket Key Source\nUses the bucket ARN as the encryption context instead of the object ARN if using bucket keys, thus reducing calls to KMS, and eventually cost Create unique data keys for objects Used for a time-limited period within S3 Encrypt existing objects? S3 Batch Operations - copy objects to same bucket. Use AWS API (SDK/CLI) to copy objects to same bucket. Replication If source object uses S3 Bucket Keys \u0026 destination bucket uses default encryption, replica object maintains its S3 Bucket Key encryption settings in the destination bucket. If source object is not encrypted \u0026 destination bucket uses S3 Bucket Key with SSE-KMS, replica object is encrypted with an S3 Bucket Key using SSE-KMS. This results in the ETag of the source object being different from the ETag of the replica object. Options for data replication - https://aws.amazon.com/blogs/storage/considering-four-different-replication-options-for-data-in-amazon-s3/ 2-way sync for S3 objects https://aws.amazon.com/about-aws/whats-new/2020/12/amazon-s3-replication-adds-support-two-way-replication/ Access Logs Useful for audit and security purposes. Deliver to a different S3 bucket. Alternative to switching on cloudtrail data events, and incurring higher cost.\nLogs can be queried via athena.\nEndpoints Use endpoints to keep the data transfer within AWS backbone network, and reduce data transfer charges. S3 supports both gateway endpoints and interface endpoints.\nGateway Think of it as the bare minimum for enabling private access to S3 from a vpc. Traffic does not travel via NAT or internet gateways avoiding the data transfer costs associated with them.\nInterface This is a more heavyweight solution, use this to access S3 from on-prem, peered VPCs in other AWS Regions, or even through a transit gateway.\nAccess Points Network endpoints connected to a SINGLE bucket. A single bucket can have multiple access points, preferrebly for each service/app that needs access to the bucket. This design allows for keeping permissions modular and scoped to a particular application without impacting any other app. Unlike bucket policies which tend to be a monolith managing access for ALL apps together.\nMulti-Region Access Points Uses Global Accelerator under the hood to optimize S3 traffic. Ensures low latency access to data from anywhere in the world irrespective of the home region of the bucket and data.\nIt can centrally configure replication rules between buckets in different regions, and use the nearest bucket to fulfil a request.\nTransfer Acceleration S3TA Speeds up S3 transfers for apps where users are geographically far away from the bucket’s region. It uses cloudfront edge and AWS backbone network to speed up the data transfer by as much as 50 to 500%. Only accelerated transfers are billed. Enable in S3 bucket properties.\nPerformance Dependent on keys (path)\nEvents File operations can directly trigger events for services\nlambda sns sqs eventbridge If the service isn’t supported directly, create a data events only cloudtrail, this will push the event to eventbridge. Add a rule with detail-type:AWS API Call via CloudTrail and target the required service.\nSecurity A public bucket can be tracked by IAM Access Analyzer findings.\nEnable server access logging and send logs to a different bucket. Use these logs for security audit, understanding usage patterns etc. Query via athena.\nSELECT requestdatetime, remoteip, requester, key FROM s3_access_logs_db.mybucket_logs WHERE key = 'images/picture.jpg' AND operation like '%DELETE%'; ","wordCount":"813","inLanguage":"en","datePublished":"2024-02-13T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/s3/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS Simple Storage Service (S3)<sup>&nbsp;<span class="entry-stage incubating">&nbsp;incubating&nbsp;</span></sup></h1><div class=post-meta><s>13.2.24</s>&nbsp;4.4.25 / Notes / 4 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#internals aria-label=Internals>Internals</a></li><li><a href=#scope aria-label=Scope>Scope</a></li><li><a href=#consistency aria-label=Consistency>Consistency</a></li><li><a href=#storage-class aria-label="Storage class">Storage class</a></li><li><a href=#lifecycle-rules aria-label="Lifecycle rules">Lifecycle rules</a></li><li><a href=#object-lock aria-label="Object lock">Object lock</a></li><li><a href=#encryption aria-label=Encryption>Encryption</a><ul><li><a href=#bucket-key aria-label="Bucket Key">Bucket Key</a></li><li><a href=#encrypt-existing-objects aria-label="Encrypt existing objects?">Encrypt existing objects?</a></li></ul></li><li><a href=#replication aria-label=Replication>Replication</a></li><li><a href=#access-logs aria-label="Access Logs">Access Logs</a></li><li><a href=#endpoints aria-label=Endpoints>Endpoints</a><ul><li><a href=#gateway aria-label=Gateway>Gateway</a></li><li><a href=#interface aria-label=Interface>Interface</a></li></ul></li><li><a href=#access-points aria-label="Access Points">Access Points</a></li><li><a href=#multi-region-access-points aria-label="Multi-Region Access Points">Multi-Region Access Points</a></li><li><a href=#transfer-acceleration-s3ta aria-label="Transfer Acceleration S3TA">Transfer Acceleration S3TA</a></li><li><a href=#performance aria-label=Performance>Performance</a></li><li><a href=#events aria-label=Events>Events</a></li><li><a href=#security aria-label=Security>Security</a></li></ul></div></details></div></div><div class=post-content><p>Object storage offering 99.999999999% (11 nines) data durability.</p><h1 id=internals>Internals<a hidden class=anchor aria-hidden=true href=#internals>#</a></h1><p>Based on <a href=https://www.allthingsdistributed.com/2007/10/amazons_dynamo.html>Amazon Dynamo</a> (not the same as <a href=/notes/aws/dynamodb/>DynamoDB</a>) - technology developed internally at amazon for a incrementally scalable, highly available key-value storage system.</p><p><a href=https://www.allthingsdistributed.com/2023/07/building-and-operating-a-pretty-big-storage-system.html>This article</a> by DR. Werner Vogels, is an interesting read on how S3 came to be!</p><h1 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h1><p>Regional, although AWS does call it <em>global</em> at places.</p><p>Can you create a bucket without specifying a region?</p><h1 id=consistency>Consistency<a hidden class=anchor aria-hidden=true href=#consistency>#</a></h1><ul><li><code>read-after-write</code> consistency for <code>PUT</code>, and <code>DELETE</code> requests</li><li>Strongly consistent for reads, always returns the most recent data. Note, a read op initiated before a write op is finished can return either old or new data.</li><li>No out of the box object locking for concurrent writes (manage in app code), so be mindful of write conflicts</li><li><code>last-writer-wins</code> for conflict resolution of concurrent writes</li></ul><p>More <a href=https://docs.aws.amazon.com/AmazonS3/latest/userguide/Welcome.html#ConsistencyModel>here</a></p><h1 id=storage-class>Storage class<a hidden class=anchor aria-hidden=true href=#storage-class>#</a></h1><ol><li>Standard</li><li>Intelligent tiering</li><li>Express One-Zone (High Performance)</li><li>Standard Infrequent Access</li><li>One-Zone Infrequent Access</li><li>Glacier Instant Retrieval</li><li>Glacier Flexible Retrieval</li><li>Glacier Deep Archive</li><li>S3 on [outposts]</li></ol><p>More <a href=https://aws.amazon.com/s3/storage-classes/>https://aws.amazon.com/s3/storage-classes/</a></p><h1 id=lifecycle-rules>Lifecycle rules<a hidden class=anchor aria-hidden=true href=#lifecycle-rules>#</a></h1><p>Use to transition between storage classes or deleting/expiring objects etc. Be sure to not operate on too many small objects as the transition cost will be more than any cost gains due to storage class change.</p><h1 id=object-lock>Object lock<a hidden class=anchor aria-hidden=true href=#object-lock>#</a></h1><p>Use to retain particular objects for compliance reasons.</p><h1 id=encryption>Encryption<a hidden class=anchor aria-hidden=true href=#encryption>#</a></h1><p>AWS encrypts all objects uploaded to S3 using <code>SSE-S3</code> by default. This can be changed in bucket settings.</p><p>Other encryption options (SSE = server side encryption) -</p><ul><li><code>SSE-C</code> (customer managed keys)</li><li><code>SSE-KMS</code> (kms keys - customer or aws managed) #</li><li><code>DSSE-KMS</code> (dual-layer SSE using KMS keys)</li></ul><p># With <code>SSE-KMS</code> there can be cost implications (KMS charges) if too many encrypted files are uploaded/downloaded. Always use a <a href=/notes/aws/s3/#bucket-keys>bucket key</a> with <code>SSE-KMS</code> to reduce KMS costs.</p><h2 id=bucket-key>Bucket Key<a hidden class=anchor aria-hidden=true href=#bucket-key>#</a></h2><p><img loading=lazy src=https://docs.aws.amazon.com/images/AmazonS3/latest/userguide/images/S3-Bucket-Keys.png alt=bucket-key>
<em><a href=https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-key.html>Source</a></em></p><ul><li>Uses the bucket ARN as the encryption context instead of the object ARN if using bucket keys, thus reducing calls to KMS, and eventually cost</li><li>Create unique data keys for objects</li><li>Used for a time-limited period within S3</li></ul><h2 id=encrypt-existing-objects>Encrypt existing objects?<a hidden class=anchor aria-hidden=true href=#encrypt-existing-objects>#</a></h2><ul><li>S3 Batch Operations - copy objects to same bucket.</li><li>Use AWS API (SDK/CLI) to copy objects to same bucket.</li></ul><h1 id=replication>Replication<a hidden class=anchor aria-hidden=true href=#replication>#</a></h1><ul><li>If source object uses S3 Bucket Keys & destination bucket uses default encryption, replica object maintains its S3 Bucket Key encryption settings in the destination bucket.</li><li>If source object is not encrypted & destination bucket uses S3 Bucket Key with SSE-KMS, replica object is encrypted with an S3 Bucket Key using SSE-KMS. This results in the ETag of the source object being different from the ETag of the replica object.</li><li>Options for data replication - <a href=https://aws.amazon.com/blogs/storage/considering-four-different-replication-options-for-data-in-amazon-s3/>https://aws.amazon.com/blogs/storage/considering-four-different-replication-options-for-data-in-amazon-s3/</a></li><li>2-way sync for S3 objects <a href=https://aws.amazon.com/about-aws/whats-new/2020/12/amazon-s3-replication-adds-support-two-way-replication/>https://aws.amazon.com/about-aws/whats-new/2020/12/amazon-s3-replication-adds-support-two-way-replication/</a></li></ul><h1 id=access-logs>Access Logs<a hidden class=anchor aria-hidden=true href=#access-logs>#</a></h1><p>Useful for audit and security purposes. Deliver to a different S3 bucket. Alternative to switching on <a href=/notes/aws/cloudtrail/>cloudtrail</a> data events, and incurring higher cost.</p><p>Logs can be queried via <a href=/notes/aws/athena/>athena</a>.</p><h1 id=endpoints>Endpoints<a hidden class=anchor aria-hidden=true href=#endpoints>#</a></h1><p>Use endpoints to keep the data transfer within AWS backbone network, and reduce data transfer charges. S3 supports both gateway endpoints and interface endpoints.</p><h2 id=gateway>Gateway<a hidden class=anchor aria-hidden=true href=#gateway>#</a></h2><p>Think of it as the bare minimum for enabling private access to S3 from a <a href=/notes/aws/vpc/>vpc</a>. Traffic does not travel via NAT or internet gateways avoiding the data transfer costs associated with them.</p><h2 id=interface>Interface<a hidden class=anchor aria-hidden=true href=#interface>#</a></h2><p>This is a more heavyweight solution, use this to access S3 from on-prem, peered VPCs in other AWS Regions, or even through a transit gateway.</p><h1 id=access-points>Access Points<a hidden class=anchor aria-hidden=true href=#access-points>#</a></h1><p>Network endpoints connected to a SINGLE bucket. A single bucket can have multiple access points, preferrebly for each service/app that needs access to the bucket. This design allows for keeping permissions modular and scoped to a particular application without impacting any other app. Unlike bucket policies which tend to be a monolith managing access for ALL apps together.</p><h1 id=multi-region-access-points>Multi-Region Access Points<a hidden class=anchor aria-hidden=true href=#multi-region-access-points>#</a></h1><p>Uses <a href=/notes/aws/global-accelerator/>Global Accelerator</a> under the hood to optimize S3 traffic. Ensures low latency access to data from anywhere in the world irrespective of the home region of the bucket and data.</p><p>It can centrally configure replication rules between buckets in different regions, and use the nearest bucket to fulfil a request.</p><h1 id=transfer-acceleration-s3ta>Transfer Acceleration S3TA<a hidden class=anchor aria-hidden=true href=#transfer-acceleration-s3ta>#</a></h1><p>Speeds up S3 transfers for apps where users are geographically far away from the bucket&rsquo;s region. It uses <a href=/notes/aws/cloudfront/>cloudfront</a> edge and AWS backbone network to speed up the data transfer by as much as 50 to 500%. Only accelerated transfers are billed. Enable in S3 bucket properties.</p><h1 id=performance>Performance<a hidden class=anchor aria-hidden=true href=#performance>#</a></h1><p>Dependent on keys (path)</p><h1 id=events>Events<a hidden class=anchor aria-hidden=true href=#events>#</a></h1><p>File operations can directly trigger events for services</p><ul><li><a href=/notes/aws/lambda/>lambda</a></li><li><a href=/notes/aws/sns/>sns</a></li><li><a href=/notes/aws/sqs/>sqs</a></li><li><a href=/notes/aws/eventbridge/>eventbridge</a></li></ul><p>If the service isn&rsquo;t supported directly, create a data events only <a href=/notes/aws/cloudtrail/>cloudtrail</a>, this will push the event to <a href=/notes/aws/eventbridge/>eventbridge</a>. Add a rule with <code>detail-type:AWS API Call via CloudTrail</code> and target the required service.</p><h1 id=security>Security<a hidden class=anchor aria-hidden=true href=#security>#</a></h1><p>A public bucket can be tracked by <a href=/notes/aws/iam/#access-analyzer>IAM Access Analyzer</a> findings.</p><p>Enable <em>server access logging</em> and send logs to a different bucket.
Use these logs for security audit, understanding usage patterns etc.
Query via <a href=/notes/aws/athena/>athena</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> requestdatetime, remoteip, requester, <span style=color:#66d9ef>key</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> s3_access_logs_db.mybucket_logs 
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> <span style=color:#66d9ef>key</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;images/picture.jpg&#39;</span> <span style=color:#66d9ef>AND</span> <span style=color:#66d9ef>operation</span> <span style=color:#66d9ef>like</span> <span style=color:#e6db74>&#39;%DELETE%&#39;</span>;
</span></span></code></pre></div></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-incubating/>stage/incubating</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/storage/>storage</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>