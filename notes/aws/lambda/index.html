<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS Lambda | @abiydv</title>
<meta name=keywords content><meta name=description content="Scope region scope - specify multiple az
code in the same region
Features max runtime 15 mins
max resource - vcpu ?, memory ?
Can be triggered by CloudWatch alarm directly now - cross-region
Alias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/lambda/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/lambda/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS Lambda"><meta property="og:description" content="Scope region scope - specify multiple az
code in the same region
Features max runtime 15 mins
max resource - vcpu ?, memory ?
Can be triggered by CloudWatch alarm directly now - cross-region
Alias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/lambda/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-15T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS Lambda"><meta name=twitter:description content="Scope region scope - specify multiple az
code in the same region
Features max runtime 15 mins
max resource - vcpu ?, memory ?
Can be triggered by CloudWatch alarm directly now - cross-region
Alias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS Lambda","item":"https://abiydv.github.io/notes/aws/lambda/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Lambda","name":"AWS Lambda","description":"Scope region scope - specify multiple az\ncode in the same region\nFeatures max runtime 15 mins\nmax resource - vcpu ?, memory ?\nCan be triggered by CloudWatch alarm directly now - cross-region\nAlias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda.","keywords":[],"articleBody":"Scope region scope - specify multiple az\ncode in the same region\nFeatures max runtime 15 mins\nmax resource - vcpu ?, memory ?\nCan be triggered by CloudWatch alarm directly now - cross-region\nAlias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda.\nRouting to a specific alias? #question\nError Error: Timed Out If some of your TCP connections are timing out, this may be due to packet fragmentation. Lambda functions cannot handle incoming fragmented TCP requests, since Lambda does not support IP fragmentation for TCP or ICMP.\nDeployment package Container images Upto 10 GB in size\nZip file archives Upload directly to Lambda (\u003c50 MB) or to S3 (\u003e 50 MB), and provide the S3 url to the Lambda service.\nLayers Use for reusable code, cache session objects, shared libraries, telemetry, etc.\nShare dependencies across multiple functions\nSeparate core app logic from dependecies\nReduce the app deployment package size\nUseful for zip file archives only. When using containers, these dependencies can be added to the image directly.\nCross Service APIs Lambda Functions manage EC2 ENIs for functions created in a [[vpc]]. Initially, terraform aws provider helped cleanup these ENIs on function removal since AWS api did not. Later, AWS updated the API to delete these lingering ENIs and that started causing failures in terraform as it could no longer find the lingering ENI when trying to clean-up.\nHashiCorp and AWS had to do a large scale outreach to fix these configs, and help practitioners migrate.\nRefer terraform-provider-aws Run deleteLingeringLambdaENIs when subnets are destroyed ec2: Prevent “InvalidNetworkInterfaceID.NotFound” errors in deleteLingeringLambdaENIs ","wordCount":"292","inLanguage":"en","datePublished":"2024-02-15T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/lambda/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS Lambda<sup>&nbsp;<span class="entry-stage sandbox">&nbsp;sandbox&nbsp;</span></sup></h1><div class=post-meta><s>15.2.24</s>&nbsp;4.4.25 / Notes / 2 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#scope aria-label=Scope>Scope</a></li><li><a href=#features aria-label=Features>Features</a></li><li><a href=#deployment-package aria-label="Deployment package">Deployment package</a><ul><li><a href=#container-images aria-label="Container images">Container images</a></li><li><a href=#zip-file-archives aria-label="Zip file archives">Zip file archives</a></li></ul></li><li><a href=#layers aria-label=Layers>Layers</a></li><li><a href=#cross-service-apis aria-label="Cross Service APIs">Cross Service APIs</a></li><li><a href=#refer aria-label=Refer>Refer</a></li></ul></div></details></div></div><div class=post-content><h1 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h1><p>region scope - specify multiple az<br>code in the same region</p><h1 id=features>Features<a hidden class=anchor aria-hidden=true href=#features>#</a></h1><p>max runtime 15 mins<br>max resource - vcpu ?, memory ?<br>Can be triggered by CloudWatch alarm directly now - cross-region<br>Alias - allows to test a new version without impacting live traffic which is served via an alias. If testing is successful, point the live alias to the new function version. Sort of, allows you perform [[devops#Canary deployments|canary deployments]] for Lambda.</p><p>Routing to a specific alias? #question</p><blockquote><p><strong>Error</strong> Error: Timed Out
If some of your TCP connections are timing out, this may be due to packet fragmentation. Lambda functions cannot handle incoming fragmented TCP requests, since Lambda does not support IP fragmentation for TCP or ICMP.</p></blockquote><h1 id=deployment-package>Deployment package<a hidden class=anchor aria-hidden=true href=#deployment-package>#</a></h1><h2 id=container-images>Container images<a hidden class=anchor aria-hidden=true href=#container-images>#</a></h2><p>Upto 10 GB in size</p><h2 id=zip-file-archives>Zip file archives<a hidden class=anchor aria-hidden=true href=#zip-file-archives>#</a></h2><p>Upload directly to Lambda (&lt;50 MB) or to S3 (> 50 MB), and provide the S3 url to the Lambda service.</p><h1 id=layers>Layers<a hidden class=anchor aria-hidden=true href=#layers>#</a></h1><p>Use for reusable code, cache session objects, shared libraries, telemetry, etc.<br>Share dependencies across multiple functions<br>Separate core app logic from dependecies<br>Reduce the app deployment package size<br>Useful for <a href=/notes/aws/lambda/#zip-file-archives>zip file archives</a> only. When using <a href=/notes/aws/lambda/#container-images>containers</a>, these dependencies can be added to the image directly.</p><h1 id=cross-service-apis>Cross Service APIs<a hidden class=anchor aria-hidden=true href=#cross-service-apis>#</a></h1><p>Lambda Functions manage EC2 ENIs for functions created in a [[vpc]]. Initially, terraform aws provider helped cleanup these ENIs on function removal since AWS api did not. Later, AWS updated the API to delete these lingering ENIs and that started causing failures in terraform as it could no longer find the lingering ENI when trying to clean-up.</p><p>HashiCorp and AWS had to do a large scale outreach to fix these configs, and help practitioners migrate.</p><h1 id=refer>Refer<a hidden class=anchor aria-hidden=true href=#refer>#</a></h1><ul><li><a href=https://hashicorp.github.io/terraform-provider-aws/provider-design/#cross-service-functionality>terraform-provider-aws</a></li><li><a href=https://github.com/hashicorp/terraform-provider-aws/pull/4884>Run deleteLingeringLambdaENIs when subnets are destroyed</a></li><li><a href=https://github.com/hashicorp/terraform-provider-aws/pull/6037>ec2: Prevent &ldquo;InvalidNetworkInterfaceID.NotFound&rdquo; errors in deleteLingeringLambdaENIs</a></li></ul></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-sandbox/>stage/sandbox</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/compute/>compute</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/serverless/>serverless</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>