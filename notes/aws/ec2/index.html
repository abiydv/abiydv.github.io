<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AWS Elastic Cloud Compute (EC2) | @abiydv</title>
<meta name=keywords content><meta name=description content="Scope az scope - specify 1 az
Multi region replication? AMI = replicate via lambda, or life cycle rules or AWS Backup
AutoScaling AutoScaling groups - can use launch templates or launch configs.
Launch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.
Lifecycle hooks Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/aws/ec2/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/aws/ec2/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="AWS Elastic Cloud Compute (EC2)"><meta property="og:description" content="Scope az scope - specify 1 az
Multi region replication? AMI = replicate via lambda, or life cycle rules or AWS Backup
AutoScaling AutoScaling groups - can use launch templates or launch configs.
Launch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.
Lifecycle hooks Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/aws/ec2/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-02-15T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="AWS Elastic Cloud Compute (EC2)"><meta name=twitter:description content="Scope az scope - specify 1 az
Multi region replication? AMI = replicate via lambda, or life cycle rules or AWS Backup
AutoScaling AutoScaling groups - can use launch templates or launch configs.
Launch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.
Lifecycle hooks Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"AWS","item":"https://abiydv.github.io/notes/aws/"},{"@type":"ListItem","position":3,"name":"AWS Elastic Cloud Compute (EC2)","item":"https://abiydv.github.io/notes/aws/ec2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AWS Elastic Cloud Compute (EC2)","name":"AWS Elastic Cloud Compute (EC2)","description":"Scope az scope - specify 1 az\nMulti region replication? AMI = replicate via lambda, or life cycle rules or AWS Backup\nAutoScaling AutoScaling groups - can use launch templates or launch configs.\nLaunch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.\nLifecycle hooks Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group.","keywords":[],"articleBody":"Scope az scope - specify 1 az\nMulti region replication? AMI = replicate via lambda, or life cycle rules or AWS Backup\nAutoScaling AutoScaling groups - can use launch templates or launch configs.\nLaunch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.\nLifecycle hooks Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group. By default, the hooks provide a 1 hr window before transitioning to the next stage. Alternatively, the custom workflow can post either ABANDON or CONTINUE using complete-lifecycle-action cli command.\naws autoscaling complete-lifecycle-action --lifecycle-action-result CONTINUE --lifecycle-hook-name my-launch-hook --auto-scaling-group-name my-asg --lifecycle-action-token alpha-numeric-token When the instance is being terminated, both ABANDON ang CONTINUE result in termination. ABANDON only prevents any more subsequent lifecycle hooks to run.\nWhen the instance is being created, ABANDON prevents the instance from being launched, while CONTINUE allows the instance to be launched.\nBy default, the lifecycle hooks publish events to eventbridge, from where, rules can be created to send these events to any supported destination like SQS, SNS, Lambda etc.\nUsecase capture an instance termination event, copy files or logs from the instance before they get lost! use the lifecycle hook command in the instance userdata script to signal to auto-scaling group all initialization steps are complete, and the instance can be marked in service ready to accept traffic. Termination Protection Enable EC2 termination protection - not applicable to services like Autoscaling\nSuspend Autoscaling ReplaceUnhealthy scaling process\nInstance scale-in protection on Autoscaling group\nSystems Manager Placement Groups Cluster – Packs instances close together inside an Availability Zone. This strategy enables workloads to achieve the low-latency network performance necessary for tightly-coupled node-to-node communication that is typical of high-performance computing (HPC) applications. Partition – Spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions. This strategy is typically used by large distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka. Spread – Strictly places a small group of instances across distinct underlying hardware to reduce correlated failures. Purchasing Options On-Demand Reserved Instances Standard RI provides you with a significant discount on EC2 usage (a particular instance family) when you commit to a one-year or three-year term.\nConvertible RI Region specific, allows for customization to instance properties down the road, or even exchange for a new convertible RI\nZonal RI When a Standard or Convertible RI is scoped to a specific Availability Zone (AZ), instance capacity matching the exact RI configuration is reserved for your use (these are referred to as “zonal RIs”). Zonal RIs give you additional confidence in your ability to launch instances when you need them.\nRegional RI Regional RIs provide AZ and instance size flexibility but no capacity reservation\nSpot Dedicated Hosts Dedicated Instances Capacity Reservations Capacity Blocks for ML Reserve GPU capacity for ML workloads on UltraClusters.\nreserve upto 14 days in 1 day increments\ninstances - 1, 2, 4, 8, 16, 32 and 64\ninstance type region p5.48xlarge us-east-1, us-east-2 p4d.24xlarg us-east-2, us-west-2 On-demand capacity reservation Reserve capacity for Prime day like events to ensure you get all the capacity you need on your big day.\nFleet Launch mix of instances cross-az with on-demand, spot, reserved ri billing models.\nSavings Plans Compute Savings Plans = EC2, Fargate, Lambda\nEC2 Instance Savings Plans = EC2 family in a region\nQuestions What are Burstable Instances\nuses and differences between reserved instances, compute savings plans, capacity reservations? Is there anything called instance savings plan?\n","wordCount":"601","inLanguage":"en","datePublished":"2024-02-15T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/aws/ec2/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/aws/>AWS</a></div><h1 class=post-title>AWS Elastic Cloud Compute (EC2)<sup>&nbsp;<span class="entry-stage incubating">&nbsp;incubating&nbsp;</span></sup></h1><div class=post-meta><s>15.2.24</s>&nbsp;4.4.25 / Notes / 3 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#scope aria-label=Scope>Scope</a></li><li><a href=#multi-region-replication aria-label="Multi region replication?">Multi region replication?</a></li><li><a href=#autoscaling aria-label=AutoScaling>AutoScaling</a><ul><li><a href=#lifecycle-hooks aria-label="Lifecycle hooks">Lifecycle hooks</a><ul><li><a href=#usecase aria-label=Usecase>Usecase</a></li></ul></li><li><a href=#termination-protection aria-label="Termination Protection">Termination Protection</a></li></ul></li><li><a href=#systems-manager aria-label="Systems Manager">Systems Manager</a></li><li><a href=#placement-groups aria-label="Placement Groups">Placement Groups</a></li><li><a href=#purchasing-options aria-label="Purchasing Options">Purchasing Options</a><ul><li><a href=#on-demand aria-label=On-Demand>On-Demand</a></li><li><a href=#reserved-instances aria-label="Reserved Instances">Reserved Instances</a><ul><li><a href=#standard-ri aria-label="Standard RI">Standard RI</a></li><li><a href=#convertible-ri aria-label="Convertible RI">Convertible RI</a></li><li><a href=#zonal-ri aria-label="Zonal RI">Zonal RI</a></li><li><a href=#regional-ri aria-label="Regional RI">Regional RI</a></li></ul></li><li><a href=#spot aria-label=Spot>Spot</a></li><li><a href=#dedicated-hosts aria-label="Dedicated Hosts">Dedicated Hosts</a></li><li><a href=#dedicated-instances aria-label="Dedicated Instances">Dedicated Instances</a></li><li><a href=#capacity-reservations aria-label="Capacity Reservations">Capacity Reservations</a><ul><li><a href=#capacity-blocks-for-ml aria-label="Capacity Blocks for ML">Capacity Blocks for ML</a></li><li><a href=#on-demand-capacity-reservation aria-label="On-demand capacity reservation">On-demand capacity reservation</a></li></ul></li></ul></li><li><a href=#fleet aria-label=Fleet>Fleet</a></li><li><a href=#savings-plans aria-label="Savings Plans">Savings Plans</a><ul><li><a href=#questions aria-label=Questions>Questions</a></li></ul></li></ul></div></details></div></div><div class=post-content><h1 id=scope>Scope<a hidden class=anchor aria-hidden=true href=#scope>#</a></h1><p>az scope - specify 1 az</p><h1 id=multi-region-replication>Multi region replication?<a hidden class=anchor aria-hidden=true href=#multi-region-replication>#</a></h1><p>AMI = replicate via <a href=/notes/aws/lambda/>lambda</a>, or life cycle rules or <a href=/notes/aws/aws-backup/>AWS Backup</a></p><h1 id=autoscaling>AutoScaling<a hidden class=anchor aria-hidden=true href=#autoscaling>#</a></h1><p>AutoScaling groups - can use launch templates or launch configs.</p><p>Launch templates allow using latest EC2 features including selecting instances based on defined attributes rather than adding a fixed instance type.</p><h2 id=lifecycle-hooks>Lifecycle hooks<a hidden class=anchor aria-hidden=true href=#lifecycle-hooks>#</a></h2><p>Lifecycle hooks provide a way to trigger custom workflows based on the scale-in or scale-out activity in an auto scaling group. By default, the hooks provide a 1 hr window before transitioning to the next stage. Alternatively, the custom workflow can post either <code>ABANDON</code> or <code>CONTINUE</code> using <code>complete-lifecycle-action</code> cli command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>aws autoscaling complete-lifecycle-action --lifecycle-action-result CONTINUE --lifecycle-hook-name my-launch-hook --auto-scaling-group-name my-asg --lifecycle-action-token alpha-numeric-token
</span></span></code></pre></div><p>When the instance is being terminated, both <code>ABANDON</code> ang <code>CONTINUE</code> result in termination. <code>ABANDON</code> only prevents any more subsequent lifecycle hooks to run.</p><p>When the instance is being created, <code>ABANDON</code> prevents the instance from being launched, while <code>CONTINUE</code> allows the instance to be launched.</p><p>By default, the lifecycle hooks publish events to <a href=/notes/aws/eventbridge/>eventbridge</a>, from where, rules can be created to send these events to any supported destination like <a href=/notes/aws/sqs/>SQS</a>, <a href=/notes/aws/sns/>SNS</a>, <a href=/notes/aws/lambda/>Lambda</a> etc.</p><h3 id=usecase>Usecase<a hidden class=anchor aria-hidden=true href=#usecase>#</a></h3><ul><li>capture an instance termination event, copy files or logs from the instance before they get lost!</li><li>use the lifecycle hook command in the instance userdata script to signal to auto-scaling group all initialization steps are complete, and the instance can be marked in service ready to accept traffic.</li></ul><h2 id=termination-protection>Termination Protection<a hidden class=anchor aria-hidden=true href=#termination-protection>#</a></h2><p>Enable EC2 termination protection - not applicable to services like Autoscaling<br>Suspend Autoscaling ReplaceUnhealthy scaling process<br>Instance scale-in protection on Autoscaling group</p><h1 id=systems-manager>Systems Manager<a hidden class=anchor aria-hidden=true href=#systems-manager>#</a></h1><h1 id=placement-groups>Placement Groups<a hidden class=anchor aria-hidden=true href=#placement-groups>#</a></h1><ul><li>Cluster – Packs instances close together inside an Availability Zone. This strategy enables workloads to achieve the low-latency network performance necessary for tightly-coupled node-to-node communication that is typical of high-performance computing (HPC) applications.</li><li>Partition – Spreads your instances across logical partitions such that groups of instances in one partition do not share the underlying hardware with groups of instances in different partitions. This strategy is typically used by large distributed and replicated workloads, such as Hadoop, Cassandra, and Kafka.</li><li>Spread – Strictly places a small group of instances across distinct underlying hardware to reduce correlated failures.</li></ul><h1 id=purchasing-options>Purchasing Options<a hidden class=anchor aria-hidden=true href=#purchasing-options>#</a></h1><h2 id=on-demand>On-Demand<a hidden class=anchor aria-hidden=true href=#on-demand>#</a></h2><h2 id=reserved-instances>Reserved Instances<a hidden class=anchor aria-hidden=true href=#reserved-instances>#</a></h2><h3 id=standard-ri>Standard RI<a hidden class=anchor aria-hidden=true href=#standard-ri>#</a></h3><p>provides you with a significant discount on EC2 usage (a particular instance family) when you commit to a one-year or three-year term.</p><h3 id=convertible-ri>Convertible RI<a hidden class=anchor aria-hidden=true href=#convertible-ri>#</a></h3><p>Region specific, allows for customization to instance properties down the road, or even exchange for a new convertible RI</p><h3 id=zonal-ri>Zonal RI<a hidden class=anchor aria-hidden=true href=#zonal-ri>#</a></h3><p>When a Standard or Convertible RI is scoped to a specific Availability Zone (AZ), instance capacity matching the exact RI configuration is reserved for your use (these are referred to as “zonal RIs”). Zonal RIs give you additional confidence in your ability to launch instances when you need them.</p><h3 id=regional-ri>Regional RI<a hidden class=anchor aria-hidden=true href=#regional-ri>#</a></h3><p>Regional RIs provide AZ and instance size flexibility but no capacity reservation</p><h2 id=spot>Spot<a hidden class=anchor aria-hidden=true href=#spot>#</a></h2><h2 id=dedicated-hosts>Dedicated Hosts<a hidden class=anchor aria-hidden=true href=#dedicated-hosts>#</a></h2><h2 id=dedicated-instances>Dedicated Instances<a hidden class=anchor aria-hidden=true href=#dedicated-instances>#</a></h2><h2 id=capacity-reservations>Capacity Reservations<a hidden class=anchor aria-hidden=true href=#capacity-reservations>#</a></h2><h3 id=capacity-blocks-for-ml>Capacity Blocks for ML<a hidden class=anchor aria-hidden=true href=#capacity-blocks-for-ml>#</a></h3><p>Reserve GPU capacity for ML workloads on UltraClusters.</p><p>reserve upto 14 days in 1 day increments<br>instances - 1, 2, 4, 8, 16, 32 and 64</p><table><thead><tr><th>instance type</th><th>region</th></tr></thead><tbody><tr><td>p5.48xlarge</td><td><code>us-east-1</code>, <code>us-east-2</code></td></tr><tr><td>p4d.24xlarg</td><td><code>us-east-2</code>, <code>us-west-2</code></td></tr></tbody></table><h3 id=on-demand-capacity-reservation>On-demand capacity reservation<a hidden class=anchor aria-hidden=true href=#on-demand-capacity-reservation>#</a></h3><p>Reserve capacity for Prime day like events to ensure you get all the capacity you need on your big day.</p><h1 id=fleet>Fleet<a hidden class=anchor aria-hidden=true href=#fleet>#</a></h1><p>Launch mix of instances cross-az with on-demand, spot, reserved ri billing models.</p><h1 id=savings-plans>Savings Plans<a hidden class=anchor aria-hidden=true href=#savings-plans>#</a></h1><p>Compute Savings Plans = EC2, Fargate, <a href=/notes/aws/lambda/>Lambda</a><br>EC2 Instance Savings Plans = EC2 family in a region</p><h2 id=questions>Questions<a hidden class=anchor aria-hidden=true href=#questions>#</a></h2><ol><li><p>What are Burstable Instances</p></li><li><p>uses and differences between reserved instances, compute savings plans, capacity reservations? Is there anything called instance savings plan?</p></li></ol></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/aws/>aws</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/stage-incubating/>stage/incubating</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/compute/>compute</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>