<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Network | @abiydv</title>
<meta name=keywords content><meta name=description content="Layers Layer Name Function Devices OSI Layer 4 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB L5-7 3 Transport packets, TCP, UDP Routers, nlb L4 2 Internet IPv4, IPv6, ICMP, IPSEC Switches L3 1 Link Physical medium Cables L2 OSI Open Systems Interconnection Model Why? Useful for defining standards so computers from different manufacturers could &ldquo;talk&rdquo; to each other.
Layer Name Function Devices 7 Application HTTP, FTP, SMB, SMTP, DHCP etc."><meta name=author content><link rel=canonical href=https://abiydv.github.io/notes/network/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/notes/network/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Network"><meta property="og:description" content="Layers Layer Name Function Devices OSI Layer 4 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB L5-7 3 Transport packets, TCP, UDP Routers, nlb L4 2 Internet IPv4, IPv6, ICMP, IPSEC Switches L3 1 Link Physical medium Cables L2 OSI Open Systems Interconnection Model Why? Useful for defining standards so computers from different manufacturers could &ldquo;talk&rdquo; to each other.
Layer Name Function Devices 7 Application HTTP, FTP, SMB, SMTP, DHCP etc."><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/notes/network/"><meta property="article:section" content="notes"><meta property="article:published_time" content="2024-05-09T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T12:48:24+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Network"><meta name=twitter:description content="Layers Layer Name Function Devices OSI Layer 4 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB L5-7 3 Transport packets, TCP, UDP Routers, nlb L4 2 Internet IPv4, IPv6, ICMP, IPSEC Switches L3 1 Link Physical medium Cables L2 OSI Open Systems Interconnection Model Why? Useful for defining standards so computers from different manufacturers could &ldquo;talk&rdquo; to each other.
Layer Name Function Devices 7 Application HTTP, FTP, SMB, SMTP, DHCP etc."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"https://abiydv.github.io/notes/"},{"@type":"ListItem","position":2,"name":"Network","item":"https://abiydv.github.io/notes/network/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Network","name":"Network","description":"Layers Layer Name Function Devices OSI Layer 4 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB L5-7 3 Transport packets, TCP, UDP Routers, nlb L4 2 Internet IPv4, IPv6, ICMP, IPSEC Switches L3 1 Link Physical medium Cables L2 OSI Open Systems Interconnection Model Why? Useful for defining standards so computers from different manufacturers could \u0026ldquo;talk\u0026rdquo; to each other.\nLayer Name Function Devices 7 Application HTTP, FTP, SMB, SMTP, DHCP etc.","keywords":[],"articleBody":"Layers Layer Name Function Devices OSI Layer 4 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB L5-7 3 Transport packets, TCP, UDP Routers, nlb L4 2 Internet IPv4, IPv6, ICMP, IPSEC Switches L3 1 Link Physical medium Cables L2 OSI Open Systems Interconnection Model Why? Useful for defining standards so computers from different manufacturers could “talk” to each other.\nLayer Name Function Devices 7 Application HTTP, FTP, SMB, SMTP, DHCP etc. AWS ALB 6 Presentation MIME/ASCII (char encoding), Encryption/Decryption, Compression 5 Session 4 Transport TCP, UDP 3 Network Packets, IPv4, IPv6, ICMP, IPSEC Routers, NLB 2 Data MAC/LLC Switches 1 Physical Physical medium, CAN Cables, Ports Protocols TCP/IP Connection oriented, reliable Data order is important Duplicate data is discarded Minimal error Retry lost or discarded packets traffic congestion control UDP Connectionless, unreliable Streaming content, VoIP, dropped packets are not a concern DNS lookups RTP built on top of UDP for real time streaming PPTP The Point-to-Point Tunneling Protocol (PPTP) is an obsolete method for implementing VPN. PPTP has many well known security issues.\nPPTP uses a TCP/IP control channel and a GRE tunnel to encapsulate PPPpackets. Many modern VPNs use various forms of UDP for this same functionality. The PPTP specification does not describe encryption or authentication features and relies on the Point-to-Point Protocol being tunneled to implement any and all security functionalities.\nIPSec Internet Protocol Security (IPsec) is a secure network protocol that authenticates and encrypts packets of data to provide secure encrypted communication between two computers over an Internet Protocol network. It is used in VPNs.\nBGP Border Gateway Protocol (BGP) is a standardized exterior gateway protocol designed to exchange routing and reachability information among autonomous systems (AS) on the Internet. BGP is classified as a path-vector routing protocol and it makes routing decisions based on paths, network policies, or rule-sets configured.\nBGP used for routing within an autonomous system is called Interior Border Gateway Protocol(IBGP). In contrast, the Internet application of the protocol is called Exterior Border Gateway Protocol (EBGP).\nGRE Generic Routing Encapsulation (GRE) is a tunneling protocol developed by Cisco Systems that can encapsulate a wide variety of network layer protocols inside virtual point-to-point links or point-to-multipoint links over an Internet Protocol network.\nUses -\nIn conjunction with PPTP to create VPN (obsolete) In conjunction with IPSec VPN to allow passing of routing information between connected networks. IP Addresses Class Notation CIDR Classless Inter-Domain Routing\nPrivate IPs Prefixes - 8 -\u003e 12 -\u003e 16 Ranges - 10.0 -\u003e 172.16 -\u003e 192.168 CGNAT - 100.64.0.0/10\nThis is defined in [[RFC#1918]]\n10.0.0.0/8 Prefix - 8, Divide it by 8, quotient 1, remainder 0. Subnet mask - 255.0.0.0 (First octet, all bits are ON, value 255) Usable IPs - 10.0.0.1 to 10.255.255.254 Network part - 10.x.x.x Host part - x.0.0.0\n172.16.0.0/12 Prefix - 12, Divide it by 8, quotient 1, remainder 4. Subnet mask - 255.240.0.0 (First octet, all bits are ON, value 255. Second octet, 4 bits are ON, value, 128 + 64 + 32 + 16 = 240) Usable IPs - 172.16.0.1 to 172.31.255.254 ———————————-^^ How was this 31 calculated? ———————————- 255 - 240 (subnet mask, second octet) = 15 ———————————- 16 + 15 = 31 Network part - ? Host part - ?\n#ask What’s the network part, and host part in an IP like 172.16.0.0/12? ✅ 2023-12-07 It’s not really relevant for CIDR since it is classless 192.168.0.0/16 Prefix /16. Divide it by 8, quotient 1, remainder 2 Subnet mask - 255.255.0.0 (First 2 octets, are bits all ON, value 255 each) Usable IPs - 192.168.0.1 to 192.168.255.254 Network part - 192.168.x.x Host part - x.x.0.0\n100.64.0.0/10 For use in carrier-grade NAT (CGNAT) environments\nPrefix - 10, Divide it by 8, quotient 1, remainder 2. Subnet mask - 255.192.0.0 (First octet, all bits are ON, value 255. Second octet, 2 bits are ON, value, 128 + 64 = 192) Usable IPs - 100.64.0.1 to 100.127.255.254 ———————————-^^ How was this 127 calculated? ———————————- 255 - 192 (subnet mask, second octet) = 63 ———————————- 64 + 63 = 127 Network part - ? Host part - ?\n#ask What’s the network part, and host part in an IP like 100.64.0.0/10? ✅ 2023-12-07 It’s not really relevant for CIDR since it is classless Subnet Mask Convert 255 octet to binary using the following table\n128 64 32 16 8 4 2 1 1 1 1 1 1 1 1 1 128 + 64 + 32 + 16 + 8 + 4 +2 + 1 = 255\nInspect IPs 10.1.0.0 subnet mask 255.255.240.0 Prefix Prefix can be calculated from the given subnet mask. First 2 octets are fully ON (refer the binary notation above), while the third is partially ON. Add the bit values, we discover 4 bits are ON (128 + 64 + 32 + 16 = 240). So, total ON bits in the subnet mask, 8 + 8 + 4 = 20. Prefix is /20 10.1.0.0 prefix /20 Subnet Mask Subnet mask can be calculated from the given prefix. If we divide 20 by 8, we get quotient 2, and remainder 4. So, the first 2 octets in the subnet mask are fully ON, where as the third octet has 4 bits ON. Now adding the 4 bits, 128 + 64 + 32 + 16 = 240. Subnet mask is 255.255.240.0 IP addresses First IP is the same as the IP provided 10.1.0.0, but what is the last IP? Based on the subnet mask 255.255.240.0, calculate the max value of the third octet. Subtracting the current value from the max value possible, we get 255 - 240 = 15. The last octet is host specific, so can take values from 0 to 255. So the last IP in the range is 10.1.15.255. Routes “networking law”\nIt seems unlikely to me that there’d ever be any packets with a destination address within 100.64.0.0/16 as all those entities are likely fully managed by other means that, for example, you wouldn’t be SSHing to a firewall to configure it. “Networking law” says 10/8, 172.16/12, 192.168/16 and 100/16 addressed packets should never appear on the public Internet, so this route ensures they don’t get sent in the 0/0 direction and go to where they really live. Pro network admins have tight routing and filtering so they never send private packets into public space, but messy leaks do happen.\nRoute Tables DNS Address book for the internet, maps friendly names to IPs. It is a not a centralized system. The knowledge is distributed across the internet.\nWatch https://www.youtube.com/watch?v=e2xLV7pCOLI\nAn APEX domain can only have an A-Record.\nTypes of records A (A for Apex domain?) CNAME MX NS [[route53|AWS Route53]] is an AWS managed DNS solution.\nresolv.conf ref man page search directive is added to a host before quering the nameserver, if there are more than one, they are tried in sequence.\n#/etc/resolv.conf search default.svc.cluster.local svc.cluster.local cluster.local $ nslookup serviceA # queried as # serviceA.default.svc.cluster.local # and so on $ nslookup serviceA.com # queried as # serviceA.com since it contains a '.', it is queried as is # serviceA.com.default.svc.cluster.local # and so on ndots directive specifies minimum number of dots a domain can have before the resolver queries for the absolute name. Default value is 1.\nFirewall [[network-firewall]]\nStateful or Stateless? IPS (Intrusion Prevention Service) DPI (Deep Packet Inspection) Application Protocol Detection Domain Name Filtering\nVPN GENEVE Header https://datatracker.ietf.org/doc/html/rfc8926\n#todo\nECMP Equal cost multi path routing protocol\nSD-WAN Software-defined wide area network (SD-WAN)\nIt is a wide area network that uses software-defined networking technology, such as communicating over the Internet using overlay tunnels which are encrypted when destined for internal organization locations.\nSD-WAN allows companies to build high-performance WANs using low-cost and commercially available Internet access, enabling businesses to partially or wholly replace more expensive private WAN connection technologies such as MPLS.\nHowever, when SD-WAN traffic is carried over the Internet, there are no end-to-end performance guarantees.\nSD-WANs allow companies to extend their computer networks easily over large distances, connecting remote branch offices to data centers and to each other, for critical business functions using commercial internet. They alleviate the need to establish expensive, dedicated physical network infrastructure between sites.\nReferences 1 https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/ ","wordCount":"1362","inLanguage":"en","datePublished":"2024-05-09T00:00:00Z","dateModified":"2025-04-04T12:48:24+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/notes/network/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://abiydv.github.io/notes/>Notes</a></div><h1 class=post-title>Network<sup>&nbsp;<span class="entry-stage sandbox">&nbsp;sandbox&nbsp;</span></sup></h1><div class=post-meta><s>9.5.24</s>&nbsp;4.4.25 / Notes / 7 min</div></header><div class=post-content><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#layers aria-label=Layers>Layers</a><ul><li><a href=#osi aria-label=OSI>OSI</a></li></ul></li><li><a href=#protocols aria-label=Protocols>Protocols</a><ul><li><a href=#tcpip aria-label=TCP/IP>TCP/IP</a></li><li><a href=#udp aria-label=UDP>UDP</a></li><li><a href=#pptp aria-label=PPTP>PPTP</a></li><li><a href=#ipsec aria-label=IPSec>IPSec</a></li><li><a href=#bgp aria-label=BGP>BGP</a></li><li><a href=#gre aria-label=GRE>GRE</a></li></ul></li><li><a href=#ip-addresses aria-label="IP Addresses">IP Addresses</a><ul><li><a href=#class-notation aria-label="Class Notation">Class Notation</a></li><li><a href=#cidr aria-label=CIDR>CIDR</a></li><li><a href=#private-ips aria-label="Private IPs">Private IPs</a><ul><li><a href=#100008 aria-label=10.0.0.0/8>10.0.0.0/8</a></li><li><a href=#172160012 aria-label=172.16.0.0/12>172.16.0.0/12</a></li><li><a href=#1921680016 aria-label=192.168.0.0/16>192.168.0.0/16</a></li><li><a href=#100640010 aria-label=100.64.0.0/10>100.64.0.0/10</a></li></ul></li><li><a href=#subnet-mask aria-label="Subnet Mask">Subnet Mask</a></li><li><a href=#inspect-ips aria-label="Inspect IPs">Inspect IPs</a><ul><li><a href=#10100-subnet-mask-2552552400 aria-label="10.1.0.0 subnet mask 255.255.240.0"><code>10.1.0.0</code> subnet mask <code>255.255.240.0</code></a><ul><li><a href=#prefix aria-label=Prefix>Prefix</a></li></ul></li><li><a href=#10100-prefix-20 aria-label="10.1.0.0 prefix /20"><code>10.1.0.0</code> prefix <code>/20</code></a><ul><li><a href=#subnet-mask-1 aria-label="Subnet Mask">Subnet Mask</a></li><li><a href=#ip-addresses-1 aria-label="IP addresses">IP addresses</a></li></ul></li></ul></li></ul></li><li><a href=#routes aria-label=Routes>Routes</a><ul><li><a href=#route-tables aria-label="Route Tables">Route Tables</a></li></ul></li><li><a href=#dns aria-label=DNS>DNS</a><ul><li><a href=#types-of-records aria-label="Types of records">Types of records</a></li><li><a href=#resolvconf aria-label=resolv.conf>resolv.conf</a></li></ul></li><li><a href=#firewall aria-label=Firewall>Firewall</a></li><li><a href=#vpn aria-label=VPN>VPN</a></li><li><a href=#geneve-header aria-label="GENEVE Header">GENEVE Header</a></li><li><a href=#ecmp aria-label=ECMP>ECMP</a></li><li><a href=#sd-wan aria-label=SD-WAN>SD-WAN</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div></div><div class=post-content><h1 id=layers>Layers<a hidden class=anchor aria-hidden=true href=#layers>#</a></h1><table><thead><tr><th>Layer</th><th>Name</th><th>Function</th><th>Devices</th><th>OSI Layer</th></tr></thead><tbody><tr><td>4</td><td>Application</td><td>HTTP, FTP, SMB, SMTP, DHCP etc.</td><td>AWS ALB</td><td>L5-7</td></tr><tr><td>3</td><td>Transport</td><td>packets, TCP, UDP</td><td>Routers, nlb</td><td>L4</td></tr><tr><td>2</td><td>Internet</td><td>IPv4, IPv6, ICMP, IPSEC</td><td>Switches</td><td>L3</td></tr><tr><td>1</td><td>Link</td><td>Physical medium</td><td>Cables</td><td>L2</td></tr></tbody></table><h2 id=osi>OSI<a hidden class=anchor aria-hidden=true href=#osi>#</a></h2><p><em>Open Systems Interconnection Model</em>
Why? Useful for defining standards so computers from different manufacturers could &ldquo;talk&rdquo; to each other.</p><table><thead><tr><th>Layer</th><th>Name</th><th>Function</th><th>Devices</th></tr></thead><tbody><tr><td>7</td><td>Application</td><td>HTTP, FTP, SMB, SMTP, DHCP etc.</td><td>AWS ALB</td></tr><tr><td>6</td><td>Presentation</td><td>MIME/ASCII (char encoding), Encryption/Decryption, Compression</td><td></td></tr><tr><td>5</td><td>Session</td><td></td><td></td></tr><tr><td>4</td><td>Transport</td><td>TCP, UDP</td><td></td></tr><tr><td>3</td><td>Network</td><td>Packets, IPv4, IPv6, ICMP, IPSEC</td><td>Routers, NLB</td></tr><tr><td>2</td><td>Data</td><td>MAC/LLC</td><td>Switches</td></tr><tr><td>1</td><td>Physical</td><td>Physical medium, CAN</td><td>Cables, Ports</td></tr></tbody></table><h1 id=protocols>Protocols<a hidden class=anchor aria-hidden=true href=#protocols>#</a></h1><h2 id=tcpip>TCP/IP<a hidden class=anchor aria-hidden=true href=#tcpip>#</a></h2><ul><li>Connection oriented, reliable</li><li>Data order is important</li><li>Duplicate data is discarded</li><li>Minimal error</li><li>Retry lost or discarded packets</li><li>traffic congestion control</li></ul><h2 id=udp>UDP<a hidden class=anchor aria-hidden=true href=#udp>#</a></h2><ul><li>Connectionless, unreliable</li><li>Streaming content, VoIP, dropped packets are not a concern</li><li>DNS lookups</li><li>RTP built on top of UDP for real time streaming</li></ul><h2 id=pptp>PPTP<a hidden class=anchor aria-hidden=true href=#pptp>#</a></h2><p>The <strong>Point-to-Point Tunneling Protocol</strong> (<strong>PPTP</strong>) is an obsolete method for implementing VPN. PPTP has many well known security issues.</p><p>PPTP uses a TCP/IP control channel and a GRE tunnel to encapsulate <a href=https://en.wikipedia.org/wiki/Point-to-Point_Protocol title="Point-to-Point Protocol">PPP</a>packets. Many modern VPNs use various forms of UDP for this same functionality. </p><p>The PPTP specification does not describe encryption or authentication features and relies on the Point-to-Point Protocol being tunneled to implement any and all security functionalities.</p><h2 id=ipsec>IPSec<a hidden class=anchor aria-hidden=true href=#ipsec>#</a></h2><p><strong>Internet Protocol Security</strong> (<strong>IPsec</strong>) is a secure network protocol that authenticates and encrypts packets of data to provide secure encrypted communication between two computers over an Internet Protocol network. It is used in VPNs.</p><h2 id=bgp>BGP<a hidden class=anchor aria-hidden=true href=#bgp>#</a></h2><p><strong>Border Gateway Protocol</strong> (<strong>BGP</strong>) is a standardized exterior gateway protocol designed to exchange routing and reachability information among autonomous systems (AS) on the Internet. BGP is classified as a path-vector routing protocol and it makes routing decisions based on paths, network policies, or rule-sets configured.</p><p>BGP used for routing within an autonomous system is called <strong>Interior Border Gateway Protocol</strong>(<strong>IBGP</strong>). In contrast, the Internet application of the protocol is called <strong>Exterior Border Gateway Protocol</strong> (<strong>EBGP</strong>).</p><h2 id=gre>GRE<a hidden class=anchor aria-hidden=true href=#gre>#</a></h2><p><strong>Generic Routing Encapsulation</strong> (<strong>GRE</strong>) is a <a href=https://en.wikipedia.org/wiki/Tunneling_protocol title="Tunneling protocol">tunneling protocol</a> developed by <a href=https://en.wikipedia.org/wiki/Cisco_Systems title="Cisco Systems">Cisco Systems</a> that can <a href=https://en.wikipedia.org/wiki/Encapsulation_(networking) title="Encapsulation (networking)">encapsulate</a> a wide variety of <a href=https://en.wikipedia.org/wiki/Network_layer title="Network layer">network layer</a> <a href=https://en.wikipedia.org/wiki/Protocol_(computing) title="Protocol (computing)">protocols</a> inside virtual <a href=https://en.wikipedia.org/wiki/Point-to-point_(telecommunications) title="Point-to-point (telecommunications)">point-to-point links</a> or point-to-multipoint links over an <a href=https://en.wikipedia.org/wiki/Internet_Protocol title="Internet Protocol">Internet Protocol</a> network.</p><p>Uses -</p><ul><li>In conjunction with PPTP to create VPN (obsolete)</li><li>In conjunction with IPSec VPN to allow passing of routing information between connected networks.</li></ul><h1 id=ip-addresses>IP Addresses<a hidden class=anchor aria-hidden=true href=#ip-addresses>#</a></h1><h2 id=class-notation>Class Notation<a hidden class=anchor aria-hidden=true href=#class-notation>#</a></h2><h2 id=cidr>CIDR<a hidden class=anchor aria-hidden=true href=#cidr>#</a></h2><p>Classless Inter-Domain Routing</p><h2 id=private-ips>Private IPs<a hidden class=anchor aria-hidden=true href=#private-ips>#</a></h2><p>Prefixes - <code>8 -> 12 -> 16</code>
Ranges - <code>10.0 -> 172.16 -> 192.168</code>
CGNAT - <code>100.64.0.0/10</code></p><p>This is defined in [[RFC#1918]]</p><h3 id=100008>10.0.0.0/8<a hidden class=anchor aria-hidden=true href=#100008>#</a></h3><p>Prefix - <code>8</code>, Divide it by <code>8</code>, quotient <code>1</code>, remainder <code>0</code>.
Subnet mask - <code>255.0.0.0</code> (First octet, all bits are ON, value <code>255</code>)
Usable IPs - <code>10.0.0.1</code> to <code>10.255.255.254</code>
Network part - <code>10.x.x.x</code>
Host part - <code>x.0.0.0</code></p><h3 id=172160012>172.16.0.0/12<a hidden class=anchor aria-hidden=true href=#172160012>#</a></h3><p>Prefix - <code>12</code>, Divide it by <code>8</code>, quotient <code>1</code>, remainder <code>4</code>.
Subnet mask - <code>255.240.0.0</code> (First octet, all bits are ON, value <code>255</code>. Second octet, <code>4</code> bits are ON, value, <code>128 + 64 + 32 + 16 = 240</code>)
Usable IPs - <code>172.16.0.1</code> to <code>172.31.255.254</code>
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-^^ How was this <code>31</code> calculated?
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- 255 - 240 (subnet mask, second octet) = 15
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- 16 + 15 = 31
Network part - ?
Host part - ?</p><ul><li><input checked disabled type=checkbox> #ask What&rsquo;s the network part, and host part in an IP like <code>172.16.0.0/12</code>? ✅ 2023-12-07
It&rsquo;s not really relevant for CIDR since it is <em>classless</em></li></ul><h3 id=1921680016>192.168.0.0/16<a hidden class=anchor aria-hidden=true href=#1921680016>#</a></h3><p>Prefix <code>/16</code>. Divide it by <code>8</code>, quotient <code>1</code>, remainder <code>2</code>
Subnet mask - <code>255.255.0.0</code> (First 2 octets, are bits all ON, value <code>255</code> each)
Usable IPs - <code>192.168.0.1</code> to <code>192.168.255.254</code>
Network part - <code>192.168.x.x</code>
Host part - <code>x.x.0.0</code></p><h3 id=100640010>100.64.0.0/10<a hidden class=anchor aria-hidden=true href=#100640010>#</a></h3><p><em>For use in <a href=https://en.wikipedia.org/wiki/Carrier-grade_NAT>carrier-grade NAT</a> (CGNAT) environments</em></p><p>Prefix - <code>10</code>, Divide it by <code>8</code>, quotient <code>1</code>, remainder <code>2</code>.
Subnet mask - <code>255.192.0.0</code> (First octet, all bits are ON, value <code>255</code>. Second octet, <code>2</code> bits are ON, value, <code>128 + 64 = 192</code>)
Usable IPs - <code>100.64.0.1</code> to <code>100.127.255.254</code>
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-^^ How was this <code>127</code> calculated?
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- 255 - 192 (subnet mask, second octet) = 63
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;- 64 + 63 = 127
Network part - ?
Host part - ?</p><ul><li><input checked disabled type=checkbox> #ask What&rsquo;s the network part, and host part in an IP like <code>100.64.0.0/10</code>? ✅ 2023-12-07
It&rsquo;s not really relevant for CIDR since it is <em>classless</em></li></ul><h2 id=subnet-mask>Subnet Mask<a hidden class=anchor aria-hidden=true href=#subnet-mask>#</a></h2><p>Convert <code>255</code> octet to binary using the following table</p><table><thead><tr><th>128</th><th>64</th><th>32</th><th>16</th><th>8</th><th>4</th><th>2</th><th>1</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table><p>128 + 64 + 32 + 16 + 8 + 4 +2 + 1 = 255</p><h2 id=inspect-ips>Inspect IPs<a hidden class=anchor aria-hidden=true href=#inspect-ips>#</a></h2><h3 id=10100-subnet-mask-2552552400><code>10.1.0.0</code> subnet mask <code>255.255.240.0</code><a hidden class=anchor aria-hidden=true href=#10100-subnet-mask-2552552400>#</a></h3><h4 id=prefix>Prefix<a hidden class=anchor aria-hidden=true href=#prefix>#</a></h4><ul><li>Prefix can be calculated from the given subnet mask.</li><li>First 2 octets are fully ON (refer the binary notation above), while the third is partially ON.</li><li>Add the bit values, we discover <code>4</code> bits are ON (<code>128 + 64 + 32 + 16 = 240</code>).</li><li>So, total ON bits in the subnet mask, <code>8 + 8 + 4 = 20</code>.</li><li>Prefix is <code>/20</code></li></ul><h3 id=10100-prefix-20><code>10.1.0.0</code> prefix <code>/20</code><a hidden class=anchor aria-hidden=true href=#10100-prefix-20>#</a></h3><h4 id=subnet-mask-1>Subnet Mask<a hidden class=anchor aria-hidden=true href=#subnet-mask-1>#</a></h4><ul><li>Subnet mask can be calculated from the given prefix.</li><li>If we divide <code>20</code> by <code>8</code>, we get quotient <code>2</code>, and remainder <code>4</code>.</li><li>So, the first 2 octets in the subnet mask are fully ON, where as the third octet has 4 bits ON.</li><li>Now adding the 4 bits, <code>128 + 64 + 32 + 16 = 240</code>.</li><li>Subnet mask is <code>255.255.240.0</code></li></ul><h4 id=ip-addresses-1>IP addresses<a hidden class=anchor aria-hidden=true href=#ip-addresses-1>#</a></h4><ul><li>First IP is the same as the IP provided <code>10.1.0.0</code>, but what is the last IP?</li><li>Based on the subnet mask <code>255.255.240.0</code>, calculate the max value of the third octet.</li><li>Subtracting the current value from the max value possible, we get <code>255 - 240 = 15</code>.</li><li>The last octet is host specific, so can take values from <code>0 to 255</code>.</li><li>So the last IP in the range is <code>10.1.15.255</code>.</li></ul><h1 id=routes>Routes<a hidden class=anchor aria-hidden=true href=#routes>#</a></h1><p>&ldquo;networking law&rdquo;</p><p>It seems unlikely to me that there&rsquo;d ever be any packets with a destination address within <code>100.64.0.0/16</code> as all those entities are likely fully managed by other means that, for example, you wouldn&rsquo;t be SSHing to a firewall to configure it. &ldquo;Networking law&rdquo; says <code>10/8, 172.16/12, 192.168/16 and 100/16</code> addressed packets should never appear on the public Internet, so this route ensures they don&rsquo;t get sent in the <code>0/0</code> direction and go to where they really live. Pro network admins have tight routing and filtering so they never send private packets into public space, but messy leaks do happen.</p><h2 id=route-tables>Route Tables<a hidden class=anchor aria-hidden=true href=#route-tables>#</a></h2><h1 id=dns>DNS<a hidden class=anchor aria-hidden=true href=#dns>#</a></h1><p>Address book for the internet, maps friendly names to IPs. It is a not a centralized system. The knowledge is distributed across the internet.</p><p>Watch <a href="https://www.youtube.com/watch?v=e2xLV7pCOLI">https://www.youtube.com/watch?v=e2xLV7pCOLI</a></p><p>An APEX domain can only have an A-Record.</p><h2 id=types-of-records>Types of records<a hidden class=anchor aria-hidden=true href=#types-of-records>#</a></h2><ul><li>A (A for Apex domain?)</li><li>CNAME</li><li>MX</li><li>NS</li></ul><p>[[route53|AWS Route53]] is an AWS managed DNS solution.</p><h2 id=resolvconf>resolv.conf<a hidden class=anchor aria-hidden=true href=#resolvconf>#</a></h2><p><a href=https://linux.die.net/man/5/resolv.conf>ref man page</a>
<code>search</code> directive is added to a host before quering the nameserver, if there are more than one, they are tried in sequence.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span><span style=color:#75715e>#/etc/resolv.conf</span>
</span></span><span style=display:flex><span>search default.svc.cluster.local svc.cluster.local cluster.local
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ nslookup serviceA
</span></span><span style=display:flex><span><span style=color:#75715e># queried as</span>
</span></span><span style=display:flex><span><span style=color:#75715e># serviceA.default.svc.cluster.local</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and so on</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ nslookup serviceA.com
</span></span><span style=display:flex><span><span style=color:#75715e># queried as</span>
</span></span><span style=display:flex><span><span style=color:#75715e># serviceA.com since it contains a &#39;.&#39;, it is queried as is</span>
</span></span><span style=display:flex><span><span style=color:#75715e># serviceA.com.default.svc.cluster.local</span>
</span></span><span style=display:flex><span><span style=color:#75715e># and so on</span>
</span></span></code></pre></div><p><code>ndots</code> directive specifies minimum number of dots a domain can have before the resolver queries for the absolute name. Default value is <code>1</code>.</p><h1 id=firewall>Firewall<a hidden class=anchor aria-hidden=true href=#firewall>#</a></h1><p>[[network-firewall]]</p><p>Stateful or Stateless?
IPS (Intrusion Prevention Service)
DPI (Deep Packet Inspection)
Application Protocol Detection
Domain Name Filtering</p><h1 id=vpn>VPN<a hidden class=anchor aria-hidden=true href=#vpn>#</a></h1><h1 id=geneve-header>GENEVE Header<a hidden class=anchor aria-hidden=true href=#geneve-header>#</a></h1><p><a href=https://datatracker.ietf.org/doc/html/rfc8926>https://datatracker.ietf.org/doc/html/rfc8926</a></p><p>#todo</p><h1 id=ecmp>ECMP<a hidden class=anchor aria-hidden=true href=#ecmp>#</a></h1><p>Equal cost multi path routing protocol</p><h1 id=sd-wan>SD-WAN<a hidden class=anchor aria-hidden=true href=#sd-wan>#</a></h1><p><strong>Software-defined wide area network</strong> (<strong>SD-WAN</strong>)</p><p>It is a wide area network that uses software-defined networking technology, such as communicating over the Internet using overlay tunnels which are encrypted when destined for internal organization locations.</p><p>SD-WAN allows companies to build high-performance WANs using low-cost and commercially available Internet access, enabling businesses to partially or wholly replace more expensive private WAN connection technologies such as MPLS.</p><p>However, when SD-WAN traffic is carried over the Internet, there are no end-to-end performance guarantees.</p><p>SD-WANs allow companies to extend their computer networks easily over large distances, connecting remote branch offices to data centers and to each other, for critical business functions using commercial internet. They alleviate the need to establish expensive, dedicated physical network infrastructure between sites.</p><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><ul><li>1</li><li><a href=https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/>https://www.freecodecamp.org/news/subnet-cheat-sheet-24-subnet-mask-30-26-27-29-and-other-ip-address-cidr-network-references/</a></li></ul></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Topics</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/topics/stage-sandbox/>stage/sandbox</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/network/>network</a></li><li class=post-tags><a href=https://abiydv.github.io/topics/osi/>osi</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>