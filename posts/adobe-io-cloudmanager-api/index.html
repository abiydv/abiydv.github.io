<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Adobe IO and Cloud Manager API | @abiydv</title>
<meta name=keywords content="adobe,aem,api,webhook,serverless,aws-lambda"><meta name=description content="Notifications from Cloud Manager using Adobe IO"><meta name=author content><link rel=canonical href=https://abiydv.github.io/posts/adobe-io-cloudmanager-api/><link crossorigin=anonymous href=/assets/css/stylesheet.c5edd088d0c984c192170cfbab7d2de030010ee0b7d771bd6bca049dd2332874.css integrity="sha256-xe3QiNDJhMGSFwz7q30t4DABDuC313G9a8oEndIzKHQ=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://abiydv.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://abiydv.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://abiydv.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://abiydv.github.io/apple-touch-icon.png><link rel=mask-icon href=https://abiydv.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://abiydv.github.io/posts/adobe-io-cloudmanager-api/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Adobe IO and Cloud Manager API"><meta property="og:description" content="Notifications from Cloud Manager using Adobe IO"><meta property="og:type" content="article"><meta property="og:url" content="https://abiydv.github.io/posts/adobe-io-cloudmanager-api/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-09T00:00:00+00:00"><meta property="article:modified_time" content="2020-09-09T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Adobe IO and Cloud Manager API"><meta name=twitter:description content="Notifications from Cloud Manager using Adobe IO"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://abiydv.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Adobe IO and Cloud Manager API","item":"https://abiydv.github.io/posts/adobe-io-cloudmanager-api/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Adobe IO and Cloud Manager API","name":"Adobe IO and Cloud Manager API","description":"Notifications from Cloud Manager using Adobe IO","keywords":["adobe","aem","api","webhook","serverless","aws-lambda"],"articleBody":"Introduction Cloud Manager, part of the Adobe Managed Services, is a continuous integration and continuous delivery (CI/CD) framework that lets organisations deploy code to their AEM environments. This is only applicable for organisations which use Adobe Managed Services to host their AEM installations with Adobe.\nThe pipeline runs through a standard set of steps as shown below. Output of each step is available via an API through Adobe I/O, which is like a central place to manage all Adobe APIs.\nProblem Short of creating an Adobe account, getting added to the AMS project and then keeping an eye on the notifications in the console - there is no other way of knowing what‚Äôs happening with a particular Cloud Manager pipeline, with out of the box solutions/integrations that Adobe provides.\nWe need to build something up if we want to send notifications to a larger group who don‚Äôt have or need to have a Adobe account.\nSolution The Cloud Manager API enables us to interact with it in a fully programmatic fashion. This allows for integration of the Cloud Manager Continuous Integration / Continuous Delivery pipeline with other systems. Using this we will setup a workflow such that every new step, pipeline execution will send out a notification on MS Teams and Email.\nAdobe I/O Cloud Manager Integration The starting point of this setup is the Adobe I/O console.\nTo complete these steps, you need to either the System Administrator role or be an assigned API Developer for your organization.\nAll requests to the Cloud Manager API are authenticated using an access token retrieved using JWT.\nTo create an API Integration:\nLogin to Adobe I/O console https://console.adobe.io/. Click the Create new project button. Click the Add to Project button on top left and select API from the drop-down menu. Under the Experience Cloud section select Cloud Manager and then click Next. Generate or Upload a key pair. Click either Generate keypair or Next. Select one of the Product Profiles to assign the integration to a specific Cloud Manager role. It will control the level of access this API will have on Cloud Manager. Click Save configured API. This will create your client and the page will list Client ID (sometimes referred to as an API Key), Organization ID, Technical Account ID and Client Secret. These values will be needed when we setup the AWS Lambda.\nThis completes the initial step on Adobe I/O, we will return to it once our webhook is ready\nWebhook - AWS API Gateway + AWS Lambda The Lambda and serverless configs can be cloned from this repo\nWe need to setup a few things before we can deploy our lambda.\nPrerequisites AWS CLI (preferably v2) Serverless framework Adobe I/O Cloudmanager project details MS Teams incoming webhook AWS Account with - Custom domain on Route 53 and ACM cert for the domain SES configured to send emails S3 bucket to use for serverless template Adobe I/O keys saved in AWS SSM Once the above are in-place, the subsequent steps are as follows -\nSetup Add the appropriate configuration properties in src/config.py\nCreate and activate virtual environment\n1python3 -m venv env 2source env/bin/activate Install dependencies\n1(env) pip3 install -r requirements.txt (Optional) Running lint, test, coverage reports\n1(env) pylint src/*.py --rcfile=setup.cfg 2(env) pytest 3(env) coverage run -m pytest 4(env) coverage html Export the credentials as environment variables. Either the access/secret keys or the aws cli profile\n1export AWS_PROFILE=mfa Deloy Deploy/Update the service to AWS 1sls deploy Once the deployment is completed, the custom domain API gateway will be ready to use. In case of this example, it‚Äôll be https://example.com/abobeio\nNow we return back to Adobe I/O console to complete Event registration.\nAdobe I/O Cloud Manager Integration - contd. Login to Adobe I/O console https://console.adobe.io/.\nSelect the previously created project.\nClick the Add to Project button and select ‚ÄúEvent‚Äù from the drop-down menu.\nUnder the Experience Cloud section select Cloud Manager and then click Next.\nSelect the events you want to receive on the webhook. Available options are -\nPipeline Execution Started/Ended Pipeline Execution Step Started/Waiting/Ended Next screen shows the JWT created earlier, Click Next.\nProvide the webhook URL - The API endpoint we created above https://example.com/adobeio\nClick Save configured events\nAdobe I/O will trigger a challenge request and if it returns 200, the status of the webhook will be changed to ACTIVE\nNote - If you cannot host a Public API in your environment due to security implication, consider using the Journaling API\nConclusion This is a simple integration with Cloud Manager API using Adobe IO which sends notifications to MS Teams and Email.\nIt can be further extended to cater to many other use cases as well, like -\nStarting the Cloud Manager CI/CD pipeline from an external non-git system. Cancelling an existing execution before triggering a new one. Executing additional steps before the standard Cloud Manager production deployment. Triggering additional activities after the a pipeline execution is complete or a specific step has been completed, like CDN cache invalidation, creating issue reports in bug tracking systems on pipeline failures, saving run stats to a monitoring time-series db like prometheus etc. Once the inital setup is ready, the possibilities are endless. üëç\nNote:¬†Code mentioned above is here¬†References (2) Api¬†Introduction¬†","wordCount":"874","inLanguage":"en","datePublished":"2020-09-09T00:00:00Z","dateModified":"2020-09-09T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://abiydv.github.io/posts/adobe-io-cloudmanager-api/"},"publisher":{"@type":"Organization","name":"@abiydv","logo":{"@type":"ImageObject","url":"https://abiydv.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://abiydv.github.io/ accesskey=h title="@abiydv (Alt + H)">@abiydv</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://abiydv.github.io/ title=Home><span>Home</span></a></li><li><a href=https://abiydv.github.io/about/ title=About><span>About</span></a></li><li><a href=https://abiydv.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://abiydv.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://abiydv.github.io/notes/ title=Notes><span>Notes</span></a></li><li><a href=https://abiydv.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://abiydv.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://abiydv.github.io/posts/>Posts</a></div><h1 class=post-title>Adobe IO and Cloud Manager API</h1><div class=post-description>Notifications from Cloud Manager using Adobe IO</div><div class=post-meta>9.9.20 / Posts / 5 min</div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p><a href=https://developer.adobe.com/experience-cloud/cloud-manager/>Cloud Manager</a>, part of the Adobe Managed Services, is a continuous integration and continuous delivery (CI/CD) framework that lets organisations deploy code to their AEM environments. This is only applicable for organisations which use Adobe Managed Services to host their AEM installations with Adobe.</p><p>The pipeline runs through a standard set of steps as shown below. Output of each step is available via an API through Adobe I/O, which is like a central place to manage all Adobe APIs.</p><p><img loading=lazy src=../../images/adobe-io/cloudmanager.jpg alt=cloudmanager></p><h2 id=problem>Problem<a hidden class=anchor aria-hidden=true href=#problem>#</a></h2><p>Short of creating an Adobe account, getting added to the AMS project and then keeping an eye on the notifications in the console - there is no other way of knowing what&rsquo;s happening with a particular Cloud Manager pipeline, with out of the box solutions/integrations that Adobe provides.</p><p>We need to build something up if we want to send notifications to a larger group who don&rsquo;t have or need to have a Adobe account.</p><h2 id=solution>Solution<a hidden class=anchor aria-hidden=true href=#solution>#</a></h2><p>The Cloud Manager API enables us to interact with it in a fully programmatic fashion. This allows for integration of the Cloud Manager Continuous Integration / Continuous Delivery pipeline with other systems. Using this we will setup a workflow such that every new step, pipeline execution will send out a notification on MS Teams and Email.</p><p><img loading=lazy src=../../images/adobe-io/notifications.jpg alt=notifications></p><h2 id=adobe-io-cloud-manager-integration>Adobe I/O Cloud Manager Integration<a hidden class=anchor aria-hidden=true href=#adobe-io-cloud-manager-integration>#</a></h2><p>The starting point of this setup is the Adobe I/O console.</p><p>To complete these steps, you need to either the System Administrator role or be an assigned API Developer for your organization.</p><p>All requests to the Cloud Manager API are authenticated using an access token retrieved using JWT.</p><p>To create an API Integration:</p><ol><li>Login to Adobe I/O console <a href=https://console.adobe.io/>https://console.adobe.io/</a>.</li><li>Click the Create new project button.</li><li>Click the Add to Project button on top left and select API from the drop-down menu.</li><li>Under the Experience Cloud section select Cloud Manager and then click Next.</li><li>Generate or Upload a key pair. Click either Generate keypair or Next.</li><li>Select one of the Product Profiles to assign the integration to a specific Cloud Manager role. It will control the level of access this API will have on Cloud Manager.</li><li>Click Save configured API.</li></ol><p>This will create your client and the page will list Client ID (sometimes referred to as an API Key), Organization ID, Technical Account ID and Client Secret. These values will be needed when we setup the AWS Lambda.</p><p>This completes the initial step on Adobe I/O, we will return to it once our webhook is ready</p><h2 id=webhook---aws-api-gateway--aws-lambda>Webhook - AWS API Gateway + AWS Lambda<a hidden class=anchor aria-hidden=true href=#webhook---aws-api-gateway--aws-lambda>#</a></h2><blockquote><p>The Lambda and serverless configs can be cloned from this <a href=https://github.com/abiydv/adobe-io>repo</a></p></blockquote><p>We need to setup a few things before we can deploy our lambda.</p><h3 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h3><ol><li><a href=https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html>AWS CLI</a> (preferably v2)</li><li><a href=https://www.serverless.com/framework/docs/providers/aws/guide/installation/>Serverless framework</a></li><li>Adobe I/O Cloudmanager project details</li><li>MS Teams incoming webhook</li><li>AWS Account with -<ul><li>Custom domain on Route 53 and ACM cert for the domain</li><li>SES configured to send emails</li><li>S3 bucket to use for serverless template</li><li>Adobe I/O keys saved in AWS SSM</li></ul></li></ol><p>Once the above are in-place, the subsequent steps are as follows -</p><h3 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h3><ol><li><p>Add the appropriate configuration properties in <code>src/config.py</code></p></li><li><p>Create and activate virtual environment</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>python3 -m venv env
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>source env/bin/activate
</span></span></code></pre></div></li><li><p>Install dependencies</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> pip3 install -r requirements.txt
</span></span></code></pre></div></li><li><p>(Optional) Running lint, test, coverage reports</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> pylint src/*.py --rcfile<span style=color:#f92672>=</span>setup.cfg
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> pytest
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> coverage run -m pytest
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#f92672>(</span>env<span style=color:#f92672>)</span> coverage html
</span></span></code></pre></div></li><li><p>Export the credentials as environment variables. Either the access/secret keys or the aws cli profile</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>export AWS_PROFILE<span style=color:#f92672>=</span>mfa
</span></span></code></pre></div></li></ol><h3 id=deloy>Deloy<a hidden class=anchor aria-hidden=true href=#deloy>#</a></h3><ol><li>Deploy/Update the service to AWS<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>sls deploy
</span></span></code></pre></div></li></ol><p>Once the deployment is completed, the custom domain API gateway will be ready to use. In case of this example, it&rsquo;ll be <a href=https://example.com/abobeio>https://example.com/abobeio</a></p><p>Now we return back to Adobe I/O console to complete Event registration.</p><h2 id=adobe-io-cloud-manager-integration---contd>Adobe I/O Cloud Manager Integration - contd.<a hidden class=anchor aria-hidden=true href=#adobe-io-cloud-manager-integration---contd>#</a></h2><ol><li><p>Login to Adobe I/O console <a href=https://console.adobe.io/>https://console.adobe.io/</a>.</p></li><li><p>Select the previously created project.</p></li><li><p>Click the Add to Project button and select &ldquo;Event&rdquo; from the drop-down menu.</p></li><li><p>Under the Experience Cloud section select Cloud Manager and then click Next.</p></li><li><p>Select the events you want to receive on the webhook. Available options are -</p><ul><li>Pipeline Execution Started/Ended</li><li>Pipeline Execution Step Started/Waiting/Ended</li></ul></li><li><p>Next screen shows the JWT created earlier, Click Next.</p></li><li><p>Provide the webhook URL - The API endpoint we created above <code>https://example.com/adobeio</code></p></li><li><p>Click Save configured events</p></li><li><p>Adobe I/O will trigger a challenge request and if it returns <code>200</code>, the status of the webhook will be changed to <code>ACTIVE</code></p></li></ol><p><strong>Note</strong> - If you cannot host a Public API in your environment due to security implication, consider using the <a href=https://www.adobe.io/apis/cloudplatform/events/documentation.html#!adobedocs/adobeio-events/master/intro/journaling_api.md>Journaling API</a></p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>This is a simple integration with Cloud Manager API using Adobe IO which sends notifications to MS Teams and Email.</p><p>It can be further extended to cater to many other use cases as well, like -</p><ul><li>Starting the Cloud Manager CI/CD pipeline from an external non-git system.</li><li>Cancelling an existing execution before triggering a new one.</li><li>Executing additional steps before the standard Cloud Manager production deployment.</li><li>Triggering additional activities after the a pipeline execution is complete or a specific step has been completed, like CDN cache invalidation, creating issue reports in bug tracking systems on pipeline failures, saving run stats to a monitoring time-series db like prometheus etc.</li></ul><p>Once the inital setup is ready, the possibilities are endless. &#x1f44d;</p><b>Note:</b>&nbsp;
Code mentioned above is
<a aria-label="link to https://github.com/abiydv/adobe-io" target=_blank href=https://github.com/abiydv/adobe-io>here&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg><h2>References (2)</h2><ol class=slimlist-ol><li class=slimlist-ol><a aria-label="link to https://developer.adobe.com/experience-cloud/cloud-manager/reference/api" target=_blank href=https://developer.adobe.com/experience-cloud/cloud-manager/reference/api>Api&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li class=slimlist-ol><a aria-label="link to https://experienceleague.adobe.com/en/docs/experience-manager-cloud-manager/content/introduction" target=_blank href=https://experienceleague.adobe.com/en/docs/experience-manager-cloud-manager/content/introduction>Introduction&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ol></div><footer class=post-footer><hr><div class=align-center><div class=slimlist-entry><h2>Tags</h2></div><ul class=post-tags><div class=slimlist-entry><li class=post-tags><a href=https://abiydv.github.io/tags/adobe/>adobe</a></li><li class=post-tags><a href=https://abiydv.github.io/tags/aem/>aem</a></li><li class=post-tags><a href=https://abiydv.github.io/tags/api/>api</a></li><li class=post-tags><a href=https://abiydv.github.io/tags/webhook/>webhook</a></li><li class=post-tags><a href=https://abiydv.github.io/tags/serverless/>serverless</a></li><li class=post-tags><a href=https://abiydv.github.io/tags/aws-lambda/>aws-lambda</a></li></div></ul></div></footer><script src=https://utteranc.es/client.js repo=abiydv/abiydv.github.io issue-term=title label=Comment theme=github-light crossorigin=anonymous async></script><hr><div class=align-left><div class=slimlist-entry><h2>Related</h2></div><ul class=slimlist><li class=slimlist><div class=slimlist-entry><h3 class=slimlist-entry-title><a aria-label="post link to Index Logs to Elasticsearch" href=https://abiydv.github.io/posts/index-elasticsearch/>Index Logs to Elasticsearch</a></h3><div class=slimlist-meta>30.12.20 / Posts / 3 min</div></div></li><li class=slimlist><div class=slimlist-entry><h3 class=slimlist-entry-title><a aria-label="post link to Elasticsearch Ingest Pipelines" href=https://abiydv.github.io/posts/elasticsearch-ingest-pipelines/>Elasticsearch Ingest Pipelines</a></h3><div class=slimlist-meta>12.9.19 / Posts / 6 min</div></div></li><li class=slimlist><div class=slimlist-entry><h3 class=slimlist-entry-title><a aria-label="post link to Day 1 with GCP - Cloud Functions" href=https://abiydv.github.io/posts/day1-gcp-cloud-functions/>Day 1 with GCP - Cloud Functions</a></h3><div class=slimlist-meta>19.11.20 / Posts / 3 min</div></div></li></ul></div></article></main><footer class=footer><span>&copy; 2019-2025 <a href=https://abiydv.github.io/>@abiydv</a> / </span><span>Published 4.4.25 /
</span><span>Thanks <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a>, <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>